{"version":3,"file":"component---src-pages-guides-tutorials-grids-addon-md-f1e5e017a6717de61548.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./src/pages/guides/tutorials/grids-addon.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/github/workspace/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst ListBlock = makeShortcode(\"ListBlock\");\nconst CodeBlock = makeShortcode(\"CodeBlock\");\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"building-your-first-add-on-with-the-document-api\"\n    }}>{`Building your first add-on with the Document API`}</h1>\n    <p>{`This tutorial will guide you through the creation of your first Adobe Express add-on based on the Adobe Express Document API.`}</p>\n    <h2 {...{\n      \"id\": \"introduction\"\n    }}>{`Introduction`}</h2>\n    <p>{`Hello, and welcome to this Adobe Express Document API tutorial, where we'll build together a `}<strong parentName=\"p\">{`fully functional Grid System add-on`}</strong>{` from scratch. Grid systems are widely used in the design world to bring structure and consistency to all visual content, from flyers to web pages or social media posts.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"57.50000000000001%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/5530d/grids-addon.webp 320w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/0c8fb/grids-addon.webp 640w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/94b1e/grids-addon.webp 1280w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/0b34d/grids-addon.webp 1920w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/d5269/grids-addon.webp 2560w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/49f40/grids-addon.webp 3456w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/dd4a7/grids-addon.png 320w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/0f09e/grids-addon.png 640w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/bbbf7/grids-addon.png 1280w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/ac7a9/grids-addon.png 1920w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/c7a69/grids-addon.png 2560w\", \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/eaa1b/grids-addon.png 3456w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/01bf2caf738ed0d2adb841b9b2a5ba94/bbbf7/grids-addon.png\",\n            \"alt\": \"grids addon\",\n            \"title\": \"grids addon\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`Your add-on will allow users to create a variable number of rows and columns, control the spacing between them (known as the `}<em parentName=\"p\">{`gutter`}</em>{`), and apply color overlays.`}</p>\n    <h3 {...{\n      \"id\": \"changelog\"\n    }}>{`Changelog`}</h3>\n    <p>{`This tutorial has been written by `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.davidebarranca.com\"\n      }}>{`Davide Barranca`}</a>{`, software developer and author from Italy; revision history as follows.`}</p>\n    <p><strong parentName=\"p\">{`December 3rd, 2023`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Removed the experimental warning from the document model sandbox APIs.`}</li>\n      <li parentName=\"ul\">{`Importing `}<inlineCode parentName=\"li\">{`colorUtils`}</inlineCode>{` instead of `}<inlineCode parentName=\"li\">{`utils`}</inlineCode>{` from `}<inlineCode parentName=\"li\">{`\"express-document-sdk\"`}</inlineCode>{`; the built-in `}<inlineCode parentName=\"li\">{`colorUtils.fromHex()`}</inlineCode>{` method replaces the custom `}<inlineCode parentName=\"li\">{`hexToColor()`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`In the new API, nodes don't have the `}<inlineCode parentName=\"li\">{`fills`}</inlineCode>{` property (and it's `}<inlineCode parentName=\"li\">{`append()`}</inlineCode>{` method) anymore; instead, they use `}<inlineCode parentName=\"li\">{`fill`}</inlineCode>{`, to which a `}<inlineCode parentName=\"li\">{`ColorFill`}</inlineCode>{` is assigned.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`November 29th, 2023`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`apiProxy()`}</inlineCode>{` now accepts `}<inlineCode parentName=\"li\">{`\"documentSandbox\"`}</inlineCode>{` as a parameter, instead of `}<inlineCode parentName=\"li\">{`\"script\"`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`manifest.json`}</inlineCode>{` now accepts `}<inlineCode parentName=\"li\">{`\"documentSandbox\"`}</inlineCode>{` in lieu of the `}<inlineCode parentName=\"li\">{`\"script\"`}</inlineCode>{` property for the document sandbox entry point. This requires the `}<inlineCode parentName=\"li\">{`\"@adobe/ccweb-add-on-scripts\"`}</inlineCode>{` dependency to be updated to version `}<inlineCode parentName=\"li\">{`\"^1.1.0\"`}</inlineCode>{` or newer in the `}<inlineCode parentName=\"li\">{`package.json`}</inlineCode>{` file.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`addOnSandboxSdk`}</inlineCode>{` is now imported from `}<inlineCode parentName=\"li\">{`\"add-on-sdk-document-sandbox\"`}</inlineCode>{` (it used to be `}<inlineCode parentName=\"li\">{`\"AddOnScriptSdk\"`}</inlineCode>{`).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`editor`}</inlineCode>{` and other modules are now imported from `}<inlineCode parentName=\"li\">{`\"express-document-sdk\"`}</inlineCode>{` (it used to be `}<inlineCode parentName=\"li\">{`\"express\"`}</inlineCode>{`).`}</li>\n      <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`webpack.config.js`}</inlineCode>{` file has been updated to reflect the new imports (see the `}<inlineCode parentName=\"li\">{`externals`}</inlineCode>{` object) in both the `}<inlineCode parentName=\"li\">{`express-grids-addon`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`express-addon-document-api-template`}</inlineCode>{` projects.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Constants`}</inlineCode>{` are now `}<inlineCode parentName=\"li\">{`constants`}</inlineCode>{` (lowercase), and their enums have changed (e.g., `}<inlineCode parentName=\"li\">{`BlendModeValue`}</inlineCode>{` is now `}<inlineCode parentName=\"li\">{`BlendMode`}</inlineCode>{`).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`translateX`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`translateY`}</inlineCode>{` have conflated in the new `}<inlineCode parentName=\"li\">{`translation`}</inlineCode>{` property.`}</li>\n      <li parentName=\"ul\">{`The group's warning about the operations order (create, append, fill) has been removed; groups can now be created, filled and appended.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`November 21st, 2023`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Editor API are now called the Document API, which are part of the Document Model Sandbox.`}</li>\n      <li parentName=\"ul\">{`Update the add-on folders to reflect the new naming convention (`}<inlineCode parentName=\"li\">{`script`}</inlineCode>{` is now `}<inlineCode parentName=\"li\">{`documentSandbox`}</inlineCode>{`).`}</li>\n      <li parentName=\"ul\">{`Update Reference Documentation links and screenshots.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`November 6th, 2023`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`First publication.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Familiarity with HTML, CSS, JavaScript.`}</li>\n      <li parentName=\"ul\">{`Familiarity with the Adobe Express add-ons environment; if you need a refresher, follow the `}<a parentName=\"li\" {...{\n          \"href\": \"/express-add-ons-docs/guides/getting_started/quickstart.md\"\n        }}>{`quickstart`}</a>{` guide.`}</li>\n      <li parentName=\"ul\">{`An Adobe Express account; use your existing Adobe ID or create one for free.`}</li>\n      <li parentName=\"ul\">{`Node.js version 16 or newer.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"topics-covered\"\n    }}>{`Topics Covered`}</h3>\n    {/* List block here */}\n    <ListBlock slots=\"text1, text2\" repeat=\"4\" iconColor=\"#2ac3a2\" icon=\"disc\" variant=\"fullWidth\" mdxType=\"ListBlock\" />\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#the-communication-api\"\n      }}>{`iframe and Document Model Sandbox communication`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#designing-the-ui-with-spectrum-web-components\"\n      }}>{`Spectrum Web Components`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#the-document-api\"\n      }}>{`Adobe Express Document API`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#designing-the-ui-with-spectrum-web-components\"\n      }}>{`Color Pickers`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#creating-the-first-shape\"\n      }}>{`Nodes insertion point`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#creating-the-first-shape\"\n      }}>{`Creating and manipulating shapes`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#organizing-the-code\"\n      }}>{`Grouping elements`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"#deleting-grids\"\n      }}>{`Context permanence`}</a></p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/express-add-ons-docs/assets/172274af14d924833da630e850b1d314/grids-addon-animation.gif\",\n        \"alt\": null\n      }}></img></p>\n    <h3 {...{\n      \"id\": \"getting-started-with-the-document-api\"\n    }}>{`Getting Started with the Document API`}</h3>\n    <p>{`As part of the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/index.md\"\n      }}>{`Document Model Sandbox`}</a>{`, the Adobe Express Document API (from now on, Document API) is a powerful tool that extends the capabilities of Adobe Express add-ons, offering direct interaction with the open document. Let's take a moment to review the difference between the two core components of the architecture of an add-on.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The `}<strong parentName=\"li\">{`iframe`}</strong>{` hosts the add-on User Interface and runs its internal logic. You can think about it as a web application operating in a sandboxed environment: it needs to be separate from the rest of the Adobe Express content for security reasons, which is precisely why the add-on is hosted within an `}<inlineCode parentName=\"li\">{`<iframe>`}</inlineCode>{` element (a detailed technical description is found `}<a parentName=\"li\" {...{\n          \"href\": \"/express-add-ons-docs/guides/develop/context.md#iframe-sandbox\"\n        }}>{`here`}</a>{`). If you come from a CEP/UXP background, it's akin to developing the panel of an extension or plugin.`}</li>\n      <li parentName=\"ul\">{`The `}<strong parentName=\"li\">{`Document Model Sandbox`}</strong>{`: allows you to operate on the document. It's a sandboxed JavaScript environment that communicates with the iframe (thanks to the `}<a parentName=\"li\" {...{\n          \"href\": \"/express-add-ons-docs/references/document-sandbox/communication/\"\n        }}>{`Communication API`}</a>{`), providing access to the `}<a parentName=\"li\" {...{\n          \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/\"\n        }}>{`Document API`}</a>{`. Drawing the parallel with CEP and UXP again, it represents scripting; that is, the possibility to drive Adobe Express programmatically and, for example, add pages or artboards, create new shapes, rotate or group them, etc.`}</li>\n    </ul>\n    <p>{`This is a high-level overview of the overall structure; while the implementation has more technical nuances, there's no need to dive deeper now.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"57.50000000000001%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/5530d/grids-addon-communication.webp 320w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/0c8fb/grids-addon-communication.webp 640w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/94b1e/grids-addon-communication.webp 1280w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/0b34d/grids-addon-communication.webp 1920w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/f3963/grids-addon-communication.webp 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/dd4a7/grids-addon-communication.png 320w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/0f09e/grids-addon-communication.png 640w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/bbbf7/grids-addon-communication.png 1280w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/ac7a9/grids-addon-communication.png 1920w\", \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/6482f/grids-addon-communication.png 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/abbefa476d5404bed38e2176c624d94c/bbbf7/grids-addon-communication.png\",\n            \"alt\": \"grids addon communication\",\n            \"title\": \"grids addon communication\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <h3 {...{\n      \"id\": \"the-project-structure\"\n    }}>{`The Project Structure`}</h3>\n    <p>{`The complete code for the Grids System add-on can be found `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/document-sandbox-samples/express-grids-addon\"\n      }}>{`here`}</a>{`, although it would be best if you followed along, starting from this `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/document-sandbox-samples/express-addon-document-api-template\"\n      }}>{`blank template`}</a>{`: it sets up a JavaScript/Webpack environment with everything we need to complete the project. You can download the code, `}<inlineCode parentName=\"p\">{`cd`}</inlineCode>{` in the `}<inlineCode parentName=\"p\">{`grids-design`}</inlineCode>{` folder and then:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`npm install\nnpm run build\nnpm run start\n`}</code></pre>\n    <p>{`This will install the required dependencies, build the project, and then serve it locally on port 5241; if you need more clarification about how to load an add-on in Adobe Express, please refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/guides/getting_started/quickstart.md\"\n      }}>{`quickstart`}</a>{` guide for a step-by-step walkthrough.`}</p>\n    <p>{`Before jumping into the code, let's look at how the project is structured. At the time of this writing, the CLI provides a few templates, but Only ReactJS-based ones include the Document Sandbox while also having a Webpack configuration, which is preferable when using Spectrum Web Components (SWC). This project provides support for both of them.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"62.5%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/5530d/grids-addon-folder-structure.webp 320w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/0c8fb/grids-addon-folder-structure.webp 640w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/94b1e/grids-addon-folder-structure.webp 1280w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/0b34d/grids-addon-folder-structure.webp 1920w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/f3963/grids-addon-folder-structure.webp 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/dd4a7/grids-addon-folder-structure.png 320w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/0f09e/grids-addon-folder-structure.png 640w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/bbbf7/grids-addon-folder-structure.png 1280w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/ac7a9/grids-addon-folder-structure.png 1920w\", \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/6482f/grids-addon-folder-structure.png 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/bdd40753b1bbdfbf2eae7b95c4e613c7/bbbf7/grids-addon-folder-structure.png\",\n            \"alt\": \"grids addon folder structure\",\n            \"title\": \"grids addon folder structure\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`As usual, we'll work in the `}<inlineCode parentName=\"p\">{`src`}</inlineCode>{` folder while Webpack outputs the result in `}<inlineCode parentName=\"p\">{`dist`}</inlineCode>{`. The add-on entry point is `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{`, which relies on `}<inlineCode parentName=\"p\">{`ui/index.js`}</inlineCode>{` for the iframe logic code (UI element handlers, etc.). The Document API entry point is instead `}<inlineCode parentName=\"p\">{`documentSandbox/code.js`}</inlineCode>{`, as defined in the `}<inlineCode parentName=\"p\">{`manifest.json`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    // ...\n    \"entryPoints\": [\n        {\n            \"type\": \"panel\",\n            \"id\": \"panel1\",\n            \"main\": \"index.html\",\n            \"documentSandbox\": \"code.js\"    // 👈 here\n        }\n    ]\n}\n`}</code></pre>\n    <p>{`If you're wondering about `}<inlineCode parentName=\"p\">{`documentSandbox/shapeUtils.js`}</inlineCode>{`, it is an auxiliary file containing private code consumed by `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{` that doesn't need to be exposed to the iframe in this specific project. The code of the blank template is as follows.`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"4\" languages=\"index.html, index.js, code.js, shapeUtils.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"iframe\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"description\" content=\"Adobe Express Add-on tutorial using JavaScript and the Document Sandbox\" />\n    <meta name=\"keywords\" content=\"Adobe, Express, Add-On, JavaScript, Document Sandbox, Document API\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Grids add-on</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n    <sp-theme scale=\"medium\" color=\"light\" theme=\"express\">\n        <sp-button id=\"createShape\">Create shape</sp-button>\n    </sp-theme>\n</body>\n\n</html>\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"iframe-1\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// Spectrum imports\nimport \"@spectrum-web-components/styles/typography.css\";\nimport \"@spectrum-web-components/theme/src/themes.js\";\nimport \"@spectrum-web-components/theme/theme-light.js\";\nimport \"@spectrum-web-components/theme/express/theme-light.js\";\nimport \"@spectrum-web-components/theme/express/scale-medium.js\";\nimport \"@spectrum-web-components/theme/sp-theme.js\";\nimport \"@spectrum-web-components/button/sp-button.js\";\n\nimport addOnUISdk from \"https://new.express.adobe.com/static/add-on-sdk/sdk.js\";\n\naddOnUISdk.ready.then(async () => {\n  console.log(\"addOnUISdk is ready for use.\");\n  const createShapeButton = document.getElementById(\"createShape\");\n\n  // Get the UI runtime.\n  const { runtime } = addOnUISdk.instance;\n  const sandboxProxy = await runtime.apiProxy(\"documentSandbox\");\n  sandboxProxy.log(\"Document Sandbox up and running.\");\n\n  // Enabling CTA elements only when the addOnUISdk is ready\n  createShapeButton.disabled = false;\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\";\nconst { runtime } = addOnSandboxSdk.instance;\n\nfunction start() {\n  runtime.exposeApi({\n    log: (...args) => {\n      console.log(...args);\n    },\n    // other properties will go here...\n  });\n}\n\nstart();\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api-1\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// empty\n`}</code></pre>\n    <InlineAlert variant=\"info\" slots=\"text1\" mdxType=\"InlineAlert\" />\n    <p>{`Please use the iframe and Document API tabs above to switch between the two domains and find a dropdown in the top-right corner to select which file to show.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{` contains a `}<inlineCode parentName=\"p\">{`<sp-theme>`}</inlineCode>{` wrapper, whose role is explained `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/guides/design/user_interface.md#spectrum-web-components-with-express-theme\"\n      }}>{`here`}</a>{`, and just a button. There's already something going on in `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{` instead, which we must understand.`}</p>\n    <h2 {...{\n      \"id\": \"the-communication-api\"\n    }}>{`The Communication API`}</h2>\n    <p>{`A crucial component of any add-on that consumes the Document API is the communication bridge with the iframe. As we've seen earlier, it's precisely the role of the `}<strong parentName=\"p\">{`Communication API`}</strong>{`.`}</p>\n    <p>{`The mechanism is straightforward: through the `}<inlineCode parentName=\"p\">{`runtime`}</inlineCode>{` object (`}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{`, line 2), you can invoke the `}<inlineCode parentName=\"p\">{`exposeApi()`}</inlineCode>{` method, which grants the iframe access to the object literal that is passed as a parameter. The iframe must get to the `}<inlineCode parentName=\"p\">{`runtime`}</inlineCode>{`, too, and use its `}<inlineCode parentName=\"p\">{`apiProxy()`}</inlineCode>{` method passing `}<inlineCode parentName=\"p\">{`\"documentSandbox\"`}</inlineCode>{`. This asynchronous call results in the same object whose `}<inlineCode parentName=\"p\">{`log()`}</inlineCode>{` can now be invoked.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"25.625000000000004%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/5530d/grids-addon-communicationapi.webp 320w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/0c8fb/grids-addon-communicationapi.webp 640w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/94b1e/grids-addon-communicationapi.webp 1280w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/0b34d/grids-addon-communicationapi.webp 1920w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/f3963/grids-addon-communicationapi.webp 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/dd4a7/grids-addon-communicationapi.png 320w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/0f09e/grids-addon-communicationapi.png 640w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/bbbf7/grids-addon-communicationapi.png 1280w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/ac7a9/grids-addon-communicationapi.png 1920w\", \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/6482f/grids-addon-communicationapi.png 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/0fba01d01c4848e557a9c736af85194b/bbbf7/grids-addon-communicationapi.png\",\n            \"alt\": \"Add-on Communication API\",\n            \"title\": \"Add-on Communication API\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`It would not be uncommon to define an object literal first and pass it to the `}<inlineCode parentName=\"p\">{`exposeAPI`}</inlineCode>{` later.`}</p>\n    {/* code below */}\n    {/* please note, the heading won't render anyway */}\n    <InlineAlert variant=\"warning\" slots=\"heading, text1, text2, text3, text4\" mdxType=\"InlineAlert\" />\n    <p><strong parentName=\"p\">{`Syntax`}</strong></p>\n    <p>{`Mind the syntax if you need the functions to call each other: for instance, the following won't work, as arrow functions' `}<inlineCode parentName=\"p\">{`this`}</inlineCode>{` is inherited from the enclosing scope, and there's none provided.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`runtime.exposeApi({\n    log: (...args) => {\n        console.log(...args);\n    },\n    createShape: (shape) => {\n        // ...\n        this.log(\"Shape created.\"); // ❌\n    }\n});\n`}</code></pre>\n    <p>{`The `}<em parentName=\"p\">{`method shorthand syntax`}</em>{` provides a proper `}<inlineCode parentName=\"p\">{`this`}</inlineCode>{` reference instead.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`runtime.exposeApi({\n    log(...args) {\n        console.log(...args);\n    },\n    createShape(shape) {\n        // ...\n        this.log(\"Shape created.\");  // ✅\n    },\n});\n`}</code></pre>\n    <p>{`It's also possible to expose iframe methods to the Document Sandbox, i.e., using `}<inlineCode parentName=\"p\">{`apiProxy()`}</inlineCode>{` passing `}<inlineCode parentName=\"p\">{`\"panel\"`}</inlineCode>{`, but it's outside the scope of this tutorial—please refer to `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/samples.md#communication-iframe-documentsandbox-sample\"\n      }}>{`this sample`}</a>{` to see it in action.`}</p>\n    <h2 {...{\n      \"id\": \"the-document-api\"\n    }}>{`The Document API`}</h2>\n    <h3 {...{\n      \"id\": \"using-the-reference-documentation\"\n    }}>{`Using the Reference Documentation`}</h3>\n    <p>{`The Document API is rapidly expanding: to keep track of its progress, you must get accustomed to consulting the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis\"\n      }}>{`Reference Documentation`}</a>{`.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"62.5%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/5530d/grids-addon-reference.webp 320w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/0c8fb/grids-addon-reference.webp 640w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/94b1e/grids-addon-reference.webp 1280w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/0b34d/grids-addon-reference.webp 1920w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/d5269/grids-addon-reference.webp 2560w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/49f40/grids-addon-reference.webp 3456w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/dd4a7/grids-addon-reference.png 320w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/0f09e/grids-addon-reference.png 640w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/bbbf7/grids-addon-reference.png 1280w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/ac7a9/grids-addon-reference.png 1920w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/c7a69/grids-addon-reference.png 2560w\", \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/eaa1b/grids-addon-reference.png 3456w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/582530a090b7fd1fefc818a3435bbf51/bbbf7/grids-addon-reference.png\",\n            \"alt\": \"Add-on Communication API\",\n            \"title\": \"Add-on Communication API\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`In the left-navbar, you can browse through all the Classes (which Adobe Express elements are instantiated from), Interfaces and constants. It's a hierarchical representation of the Document API data structures: for instance, you can see that a `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/RectangleNode/\"\n      }}><inlineCode parentName=\"a\">{`RectangleNode`}</inlineCode></a>{` is a subclass of the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/FillableNode/\"\n      }}><inlineCode parentName=\"a\">{`FillableNode`}</inlineCode></a>{`, which in turn subclasses the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/StrokableNode/\"\n      }}><inlineCode parentName=\"a\">{`StrokableNode`}</inlineCode></a>{`, which eventually is just a particular kind of `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Node/\"\n      }}><inlineCode parentName=\"a\">{`Node`}</inlineCode></a>{`—the base class.`}</p>\n    <p>{`Some properties are shared among the `}<inlineCode parentName=\"p\">{`RectangleNode`}</inlineCode>{` and, say, other `}<inlineCode parentName=\"p\">{`StrokableNode`}</inlineCode>{` subclasses such as the `}<inlineCode parentName=\"p\">{`EllipseNode`}</inlineCode>{`: for instance, the `}<inlineCode parentName=\"p\">{`opacity`}</inlineCode>{`, or `}<inlineCode parentName=\"p\">{`blendMode`}</inlineCode>{`. Other ones are unique, like the `}<inlineCode parentName=\"p\">{`topLeftRadius`}</inlineCode>{`, which, in the context of an `}<inlineCode parentName=\"p\">{`EllipseNode`}</inlineCode>{`, wouldn't make sense.`}</p>\n    <h3 {...{\n      \"id\": \"creating-the-first-shape\"\n    }}>{`Creating the first Shape`}</h3>\n    <p>{`It's finally time to start laying down some elements. Let's hook the only iframe button currently available to a function exposed by the Document API. Type the following into the source files (`}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{` have been edited), then run the add-on.`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"4\" languages=\"index.html, index.js, code.js, shapeUtils.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"iframe-2\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<body>\n    <sp-theme scale=\"medium\" color=\"light\" theme=\"express\">\n        <sp-button id=\"createShape\" disabled>Create shape</sp-button>\n    </sp-theme>\n</body>\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"iframe-3\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ... usual imports\naddOnUISdk.ready.then(async () => {\n  console.log(\"addOnUISdk is ready for use.\");\n  const createShapeButton = document.getElementById(\"createShape\");\n\n  const { runtime } = addOnUISdk.instance;\n  const sandboxProxy = await runtime.apiProxy(\"documentSandbox\");\n\n  createShapeButton.addEventListener(\"click\", async () => {\n    sandboxProxy.createShape({ width: 200, height: 100 }); // 👈\n  });\n\n  createShapeButton.disabled = false;\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api-2\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\";\nconst { runtime } = addOnSandboxSdk.instance;\nimport { editor, colorUtils, constants } from \"express-document-sdk\";\n\nfunction start() {\n  runtime.exposeApi({\n    createShape({ width, height }) {  // 👈\n      const rect = editor.createRectangle();\n      rect.width = width;\n      rect.height = height;\n      rect.translation = { x: 50, y: 50 };\n\n      const col = colorUtils.fromRGB(0.9, 0.5, 0.9);\n      const fillColor = editor.makeColorFill(col);\n      rect.fill = fillColor;\n\n      editor.context.insertionParent.children.append(rect);\n    },\n  });\n}\n\nstart();\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api-3\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// empty\n`}</code></pre>\n    <p>{`Please note that it's considered good practice to initially `}<strong parentName=\"p\">{`disable all interactive elements`}</strong>{` that need to communicate with the Document API. In this case, there's only one CTA (Call To Action) `}<inlineCode parentName=\"p\">{`<sp-button>`}</inlineCode>{`, but generally any other elements that can make changes to the document should be treated similarly. You should enable them only when the `}<inlineCode parentName=\"p\">{`addOnUISdk`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`addOnSandboxSdk`}</inlineCode>{` are initialized, and event listeners are properly set (see `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{` line 13).`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`createShapeButton`}</inlineCode>{` invokes the `}<inlineCode parentName=\"p\">{`createShape()`}</inlineCode>{` method defined and exposed in `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{` (lines 7-19), passing an option object with arbitrary `}<inlineCode parentName=\"p\">{`width`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`height`}</inlineCode>{` properties. The function reveals key insights about the Document API—let's have a deeper look at the code.`}</p>\n    <p>{`According to the Reference, `}<inlineCode parentName=\"p\">{`createRectangle()`}</inlineCode>{` is a method of the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Editor/\"\n      }}><inlineCode parentName=\"a\">{`Editor`}</inlineCode></a>{` class, which must be imported from `}<inlineCode parentName=\"p\">{`\"express-document-sdk\"`}</inlineCode>{` with the following statement.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { editor, colorUtils, constants } from \"express-document-sdk\";\n`}</code></pre>\n    <p>{`We'll also make use of `}<inlineCode parentName=\"p\">{`colorUtils`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`constants`}</inlineCode>{`—they are named imports from `}<inlineCode parentName=\"p\">{`\"express-document-sdk\"`}</inlineCode>{`, too. The `}<inlineCode parentName=\"p\">{`createRectangle()`}</inlineCode>{` function doesn't need any parameter, either required or optional; hence, the properties of this new element must be set after its creation.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const rect = editor.createRectangle();\nrect.width = width;\nrect.height = height;\nrect.translation = { x: 50, y: 50 };\n`}</code></pre>\n    <p>{`Dimensions and positions are straightforward while assigning a fill color is a two-step process.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const col = colorUtils.fromRGB(0.9, 0.5, 0.9);\nconst fillColor = editor.makeColorFill(col);\nrect.fill = fillColor;\n`}</code></pre>\n    <p>{`First, you make use of the `}<inlineCode parentName=\"p\">{`fromRGB()`}</inlineCode>{` method from the `}<inlineCode parentName=\"p\">{`colorUtils`}</inlineCode>{` class, which expects four parameters in the (0..1) range: R, G, B and an optional Alpha, and returns a `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Color/\"\n      }}>{`Color`}</a>{` instance. Then, you use such color to create either a fill or stroke—here, we're using `}<inlineCode parentName=\"p\">{`makeColorFill()`}</inlineCode>{`. Finally, you set it to the shape by assigning it to the `}<inlineCode parentName=\"p\">{`fill`}</inlineCode>{` property.`}</p>\n    {/* code here */}\n    <InlineAlert variant=\"info\" slots=\"text1\" mdxType=\"InlineAlert\" />\n    <p>{`Strokes are created with the `}<inlineCode parentName=\"p\">{`editor.createStroke()`}</inlineCode>{` method, which accepts more parameters (all optional). It's documented `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Editor.md#createstroke\"\n      }}>{`here`}</a>{`.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`rect`}</inlineCode>{` object now exists as a `}<inlineCode parentName=\"p\">{`RectangleNode`}</inlineCode>{` instance with a width of 200 pixels, a height of 100, the top-left corner at the coordinate (50, 50) and a pastel pink fill color. But `}<strong parentName=\"p\">{`it still needs to be rendered on the page!`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// appending the rect object to the scene\neditor.context.insertionParent.children.append(rect);\n`}</code></pre>\n    <p>{`Let's unpack this line. As it usually happens with any DOM (Document Object Model), it's easier if read `}<em parentName=\"p\">{`backwards`}</em>{`—from the end to the beginning. We are appending the `}<inlineCode parentName=\"p\">{`rect`}</inlineCode>{` object to the `}<inlineCode parentName=\"p\">{`children`}</inlineCode>{` list of the `}<inlineCode parentName=\"p\">{`insertionParent`}</inlineCode>{` (which is \"the `}<em parentName=\"p\">{`preferred parent`}</em>{` to insert newly added content into\") of the `}<inlineCode parentName=\"p\">{`context`}</inlineCode>{` (the \"User's current selection context\"), a property of the `}<inlineCode parentName=\"p\">{`editor`}</inlineCode>{` class.`}<sup parentName=\"p\" {...{\n        \"id\": \"fnref-2\"\n      }}><a parentName=\"sup\" {...{\n          \"href\": \"#fn-2\",\n          \"className\": \"footnote-ref\"\n        }}>{`2`}</a></sup></p>\n    <p>{`In other words, we're adding `}<inlineCode parentName=\"p\">{`rect`}</inlineCode>{` as a sibling of whatever happens to be active at the moment: this is what the `}<inlineCode parentName=\"p\">{`context.insertionParent.children`}</inlineCode>{` dance does. If you try to add `}<inlineCode parentName=\"p\">{`rect`}</inlineCode>{` while a shape nested inside a group is selected, then `}<inlineCode parentName=\"p\">{`rect`}</inlineCode>{` will also belong to that group. Please note that Adobe Express documents are based on data structures where instances are `}<em parentName=\"p\">{`appended`}</em>{` to collections: you `}<inlineCode parentName=\"p\">{`append()`}</inlineCode>{` a rectangle to a container's `}<inlineCode parentName=\"p\">{`children`}</inlineCode>{` collection.`}<sup parentName=\"p\" {...{\n        \"id\": \"fnref-3\"\n      }}><a parentName=\"sup\" {...{\n          \"href\": \"#fn-3\",\n          \"className\": \"footnote-ref\"\n        }}>{`3`}</a></sup></p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"53.75%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/5530d/grids-addon-shape.webp 320w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/0c8fb/grids-addon-shape.webp 640w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/94b1e/grids-addon-shape.webp 1280w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/0b34d/grids-addon-shape.webp 1920w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/d5269/grids-addon-shape.webp 2560w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/2808e/grids-addon-shape.webp 2694w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/dd4a7/grids-addon-shape.png 320w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/0f09e/grids-addon-shape.png 640w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/bbbf7/grids-addon-shape.png 1280w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/ac7a9/grids-addon-shape.png 1920w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/c7a69/grids-addon-shape.png 2560w\", \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/78ac0/grids-addon-shape.png 2694w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/4f8fbeabdcd5feaccb117c2d22fe0d93/bbbf7/grids-addon-shape.png\",\n            \"alt\": \"grids addon shape\",\n            \"title\": \"grids addon shape\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`Alternatively, you can target the insertion point specifically rather than relying on what happens to be selected at the time of execution. For instance, the following code uses the first `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/ArtboardNode/\"\n      }}>{`Artboard`}</a>{` of the first `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/PageNode/\"\n      }}>{`Page`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ...\nconst doc = editor.documentRoot;                     // document\nconst currentPage = doc.pages.first;                 // page\nconst currentArtboard = currentPage.artboards.first; // artboard\ncurrentArtboard.children.append(rect);               // children\n// or\neditor.documentRoot.pages.first.artboards.first.children.append(rect);\n`}</code></pre>\n    <p>{`Quoting a revealing bit of the Page reference:`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`A PageNode represents a page in the document. A page contains one or more artboards, representing \"scenes\" in a linear timeline sequence. Those artboards, in turn, contain all the visual content of the document.`}</p>\n    </blockquote>\n    <p>{`You now understand the fundamentals of the Adobe Express DOM and the hierarchical relations between nodes. You have all the necessary tools to begin coding the Grids add-on; you can always refer to the documentation when needed.`}</p>\n    <h2 {...{\n      \"id\": \"coding-the-grids-add-on\"\n    }}>{`Coding the Grids add-on`}</h2>\n    <h3 {...{\n      \"id\": \"designing-the-ui-with-spectrum-web-components\"\n    }}>{`Designing the UI with Spectrum Web Components`}</h3>\n    <p>{`Although the main subject of this tutorial is the Document API, let's spend a moment discussing the Grid add-on's User Interface. It's built mainly with `}<strong parentName=\"p\">{`Spectrum Web Components`}</strong>{` (see `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/guides/design/user_interface.md\"\n      }}>{`this guide`}</a>{` for a refresher on Adobe's UX Guidelines and the use of the Spectrum Design System), in particular:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<sp-number-field>`}</inlineCode>{` for the Rows and Columns inputs;`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<sp-slider>`}</inlineCode>{` for the Gutter;`}<sup parentName=\"li\" {...{\n          \"id\": \"fnref-4\"\n        }}><a parentName=\"sup\" {...{\n            \"href\": \"#fn-4\",\n            \"className\": \"footnote-ref\"\n          }}>{`4`}</a></sup></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<sp-swatch>`}</inlineCode>{` for the color picker;`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<sp-button-group>`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`<sp-button>`}</inlineCode>{` for the CTA buttons.`}</li>\n    </ul>\n    <p>{`The layout is based on nested FlexBox CSS classes, such as `}<inlineCode parentName=\"p\">{`row`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`column`}</inlineCode>{`. Because of the fixed width, margins are tight; the design has also been compacted along the Y-axis for consistency.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"39.37500000000001%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/5530d/grids-addon-swc.webp 320w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/0c8fb/grids-addon-swc.webp 640w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/94b1e/grids-addon-swc.webp 1280w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/0b34d/grids-addon-swc.webp 1920w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/0ab17/grids-addon-swc.webp 2556w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/dd4a7/grids-addon-swc.png 320w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/0f09e/grids-addon-swc.png 640w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/bbbf7/grids-addon-swc.png 1280w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/ac7a9/grids-addon-swc.png 1920w\", \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/10cd9/grids-addon-swc.png 2556w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/957df96cbc6e34d92445be69d60d4590/bbbf7/grids-addon-swc.png\",\n            \"alt\": \"grids addon swc\",\n            \"title\": \"grids addon swc\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`Please remember that any Spectrum Web Component you use must be installed and imported into the project first—refer to the instructions on `}<a parentName=\"p\" {...{\n        \"href\": \"https://opensource.adobe.com/spectrum-web-components/\"\n      }}>{`their official site`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/guides/design/user_interface.md#spectrum-web-components-with-express-theme\"\n      }}>{`this guide`}</a>{`. In a nutshell, find the package name in each component's documentation, and then `}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{` the ones you need.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`npm install @spectrum-web-components/swatch\nnpm install @spectrum-web-components/button\n...\n`}</code></pre>\n    <p>{`Finally, import them in the `}<inlineCode parentName=\"p\">{`ui/index.js`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import \"@spectrum-web-components/swatch/sp-swatch.js\";\nimport \"@spectrum-web-components/button/sp-button.js\";\n// ...\n`}</code></pre>\n    <p>{`The only tricky UI bit worth mentioning here is relative to the `}<strong parentName=\"p\">{`color pickers`}</strong>{`. SWC features a variety of color-related components (Color Area, Color Handle, Color Loupe, Color Slider) but not an actual picker. This add-on implements it via a `}<inlineCode parentName=\"p\">{`<sp-swatch>`}</inlineCode>{` for the UI and a hidden native `}<inlineCode parentName=\"p\">{`<input>`}</inlineCode>{` element behind it.`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"index.html, ui/index.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"indexhtml\"\n    }}>{`index.html`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<div class=\"row\">\n    <!-- ... -->\n    <sp-swatch id=\"rowsColorSwatch\" class=\"color-well\"></sp-swatch>\n    <input type=\"color\" id=\"rowsColorPicker\" style=\"display: none;\">\n</div>\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"uiindexjs\"\n    }}>{`ui/index.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// Ref to the <sp-input type=\"color\">\nconst rowsColorPicker = document.getElementById(\"rowsColorPicker\");\n// Ref to the <sp-swatch>\nconst rowsColorSwatch = document.getElementById(\"rowsColorSwatch\");\n\n// Initializing the colors for both of them\nrowsColorPicker.value = \"#ccccff\";\nrowsColorSwatch.color = \"#ccccff\";\n\n// The <sp-swatch> click triggers the <input> click\nrowsColorSwatch.addEventListener(\"click\", function () {\n    rowsColorPicker.click();\n});\n\n// The <input> click changes the <sp-swatch> fill with the picked color.\nrowsColorPicker.addEventListener(\"input\", function (event) {\n    const selectedColor = event.target.value;\n    rowsColorSwatch.setAttribute(\"color\", selectedColor);\n});\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`<sp-swatch>`}</inlineCode>{` click handler programmatically triggers the `}<inlineCode parentName=\"p\">{`<input>`}</inlineCode>{` click, which, although hidden, can still display the browser's native color picker. On `}<inlineCode parentName=\"p\">{`input`}</inlineCode>{` (i.e., when the user selects a different color within the picker), the `}<inlineCode parentName=\"p\">{`color`}</inlineCode>{` attribute of the `}<inlineCode parentName=\"p\">{`<sp-swatch>`}</inlineCode>{` controlling its fill is changed accordingly to keep both of them in sync. Please note that their values are initialized in `}<inlineCode parentName=\"p\">{`ui/index.js`}</inlineCode>{` for convenience—setting them in `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{` would be equally fine.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"20.9375%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/5530d/grids-addon-picker.webp 320w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/0c8fb/grids-addon-picker.webp 640w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/94b1e/grids-addon-picker.webp 1280w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/0b34d/grids-addon-picker.webp 1920w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/01f14/grids-addon-picker.webp 2548w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/dd4a7/grids-addon-picker.png 320w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/0f09e/grids-addon-picker.png 640w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/bbbf7/grids-addon-picker.png 1280w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/ac7a9/grids-addon-picker.png 1920w\", \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/66205/grids-addon-picker.png 2548w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/5a6d67cb7b4704ec6e199d3eae8606da/bbbf7/grids-addon-picker.png\",\n            \"alt\": \"grids addon picker\",\n            \"title\": \"grids addon picker\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`Please refer to the source code for other details on the HTML structure, which are not discussed here for brevity's sake.`}</p>\n    <h3 {...{\n      \"id\": \"collecting-values-from-the-ui\"\n    }}>{`Collecting values from the UI`}</h3>\n    <p>{`Let's finish the UI, completing the code for `}<inlineCode parentName=\"p\">{`ui/index.js`}</inlineCode>{`. As you can see, it is all standard JavaScript: besides the color pickers we've just discussed, Rows, Columns and Gutter values are initialized (lines 17-19); the Document Sandbox is retrieved, and everything the Document API exposes is stored in the `}<inlineCode parentName=\"p\">{`sandboxProxy`}</inlineCode>{` constant (lines 9-10).`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"index.html, ui/index.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"indexhtml-1\"\n    }}>{`index.html`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<body>\n  <sp-theme scale=\"medium\" color=\"light\" theme=\"express\">\n    <h2>Design Grid creator</h2>\n    <div class=\"row gap-20\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <sp-field-label for=\"rows\" size=\"m\">Rows</sp-field-label>\n          <sp-number-field id=\"rows\" min=\"1\" max=\"20\">\n          </sp-number-field>\n        </div>\n        <sp-swatch id=\"rowsColorSwatch\" class=\"color-well\"></sp-swatch>\n        <input type=\"color\" id=\"rowsColorPicker\" style=\"display: none;\">\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <sp-field-label for=\"cols\" size=\"m\">Columns</sp-field-label>\n          <sp-number-field id=\"cols\" min=\"1\" max=\"20\">\n          </sp-number-field>\n        </div>\n        <sp-swatch id=\"colsColorSwatch\" class=\"color-well\"></sp-swatch>\n        <input type=\"color\" id=\"colsColorPicker\" style=\"display: none;\">\n      </div>\n    </div>\n    <div class=\"row\">\n      <sp-slider label=\"Gutter\" id=\"gutter\" variant=\"filled\" editable hide-stepper min=\"1\" max=\"50\"\n        format-options='{\"style\": \"unit\", \"unit\": \"px\"}' step=\"1\"></sp-slider>\n    </div>\n    <sp-button-group horizontal>\n      <sp-button id=\"deleteGrid\" variant=\"secondary\" disabled>Delete</sp-button>\n      <sp-button id=\"createGrid\" disabled>Create</sp-button>\n    </sp-button-group>\n  </sp-theme>\n</body>\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"uiindexjs-1\"\n    }}>{`ui/index.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// All the SWC imports...\n\nimport addOnUISdk from \"https://new.express.adobe.com/static/add-on-sdk/sdk.js\";\n\naddOnUISdk.ready.then(async () => {\n  console.log(\"addOnUISdk is ready for use.\");\n\n  // Get the Document Sandbox.\n  const { runtime } = addOnUISdk.instance;\n  const sandboxProxy = await runtime.apiProxy(\"documentSandbox\");\n\n  // Input fields -------------------------------------------\n\n  const rowsInput = document.getElementById(\"rows\");\n  const colsInput = document.getElementById(\"cols\");\n  const gutterInput = document.getElementById(\"gutter\");\n\n  rowsInput.value = 4;\n  colsInput.value = 6;\n  gutterInput.value = 10;\n\n  // Color pickers ------------------------------------------\n\n  const colsColorPicker = document.getElementById(\"colsColorPicker\");\n  const colsColorSwatch = document.getElementById(\"colsColorSwatch\");\n  const rowsColorPicker = document.getElementById(\"rowsColorPicker\");\n  const rowsColorSwatch = document.getElementById(\"rowsColorSwatch\");\n\n  colsColorPicker.value = \"#ffcccc\";\n  colsColorSwatch.color = \"#ffcccc\";\n  rowsColorPicker.value = \"#ccccff\";\n  rowsColorSwatch.color = \"#ccccff\";\n\n  colsColorSwatch.addEventListener(\"click\", function () {\n    colsColorPicker.click();\n  });\n  colsColorPicker.addEventListener(\"input\", function (event) {\n    const selectedColor = event.target.value;\n    colsColorSwatch.setAttribute(\"color\", selectedColor);\n  });\n\n  rowsColorSwatch.addEventListener(\"click\", function () {\n    rowsColorPicker.click();\n  });\n  rowsColorPicker.addEventListener(\"input\", function (event) {\n    const selectedColor = event.target.value;\n    rowsColorSwatch.setAttribute(\"color\", selectedColor);\n  });\n\n  // CTA Buttons --------------------------------------------\n\n  const createGridBtn = document.getElementById(\"createGrid\");\n  const deleteGridBtn = document.getElementById(\"deleteGrid\");\n\n  deleteGridBtn.onclick = async (event) => {\n    const res = await sandboxProxy.deleteGrid();\n    if (res) {\n      // When there's been an error deleting the grid, you may want to handle it here\n    }\n    deleteGridBtn.disabled = true;\n  };\n\n  createGridBtn.onclick = async (event) => {\n    await sandboxProxy.addGrid({\n      columns: colsInput.value,\n      rows: rowsInput.value,\n      gutter: gutterInput.value,\n      columnColor: colsColorPicker.value,\n      rowColor: rowsColorPicker.value,\n    });\n    deleteGridBtn.disabled = false;\n  };\n\n  // Only now it is safe to enable the button\n  createGridBtn.disabled = false;\n});\n`}</code></pre>\n    <p>{`Eventually, the two buttons (Delete and Create) invoke methods exposed by the Document API, respectively `}<inlineCode parentName=\"p\">{`deleteGrid()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`createGrid()`}</inlineCode>{`. The latter expects an options object with `}<inlineCode parentName=\"p\">{`rows`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`columns`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`gutter`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`columnColor`}</inlineCode>{`,  and `}<inlineCode parentName=\"p\">{`rowColor`}</inlineCode>{` properties.`}</p>\n    <h3 {...{\n      \"id\": \"validation-and-error-handling\"\n    }}>{`Validation and Error Handling`}</h3>\n    <p>{`It's worth taking a moment to discuss good validation and error-handling practices at this stage. Just as the QA engineer walking into a bar in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://twitter.com/brenankeller/status/1068615953989087232\"\n      }}>{`famous joke`}</a>{`, you must ensure that user input aligns with what the grid algorithm expects; for example, that it receives unsigned integers.`}</p>\n    <p>{`For this tutorial, we'll limit ourselves to setting `}<inlineCode parentName=\"p\">{`min`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`max`}</inlineCode>{` values for the Rows, Columns, and Gutter ranges. This will prevent scenarios like creating a negative number of columns. In a typical implementation, you'd want to insert a validation routine before invoking the primary function. Depending on the algorithm's and the UI's complexity, this routine might belong to the iframe, the Document Sandbox, or both. Additionally, apart from validating value type and range, you may want to ensure that the Gutter size is compatible with the chosen number of Rows and Columns to prevent them from overflowing the page dimensions.`}<sup parentName=\"p\" {...{\n        \"id\": \"fnref-5\"\n      }}><a parentName=\"sup\" {...{\n          \"href\": \"#fn-5\",\n          \"className\": \"footnote-ref\"\n        }}>{`5`}</a></sup></p>\n    <p>{`Another crucial notion is to avoid silent failures: every action should either succeed or provide the user with a notification if it doesn't. That's why, for instance, the Delete button is left disabled until a set of grids is created; instead of handling the removal of a non-existent grid, it's preferable to prevent it in the first place.`}</p>\n    <h3 {...{\n      \"id\": \"creating-rows-and-columns\"\n    }}>{`Creating Rows and Columns`}</h3>\n    <p>{`It makes sense to approach this grid business with some caution, as we're just starting with the Document API. Let's set up `}<inlineCode parentName=\"p\">{`documentSandbox/code.js`}</inlineCode>{` to expose this `}<inlineCode parentName=\"p\">{`addGrid()`}</inlineCode>{` method and manage the argument provided.`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"1\" languages=\"documentSandbox/code.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"documentsandboxcodejs\"\n    }}>{`documentSandbox/code.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\";\nconst { runtime } = addOnSandboxSdk.instance;\nimport { editor, colorUtils, constants } from \"express-document-sdk\";\n\nfunction start() {\n  runtime.exposeApi({\n    addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n      console.log(\"addGrid\", columns, rows, gutter, columnColor, rowColor);\n    },\n  });\n}\n\nstart();\n`}</code></pre>\n    <p>{`When the user clicks the Create button, the parameters from the UI are properly collected, passed to `}<inlineCode parentName=\"p\">{`addGrid()`}</inlineCode>{` in the Document Sandbox, and logged. So far, so good, the Communication API does its job.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"37.18749999999999%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/5530d/grids-addon-console.webp 320w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/0c8fb/grids-addon-console.webp 640w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/94b1e/grids-addon-console.webp 1280w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/0b34d/grids-addon-console.webp 1920w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/84b9a/grids-addon-console.webp 2364w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/dd4a7/grids-addon-console.png 320w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/0f09e/grids-addon-console.png 640w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/bbbf7/grids-addon-console.png 1280w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/ac7a9/grids-addon-console.png 1920w\", \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/37b68/grids-addon-console.png 2364w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/90773c2c4c707e4d7badae4e9c0739bf/bbbf7/grids-addon-console.png\",\n            \"alt\": \"grids addon console\",\n            \"title\": \"grids addon console\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`To begin with, we'll create rows: rectangles that must be as wide as the page. To calculate their height, first, subtract the total number of gutters (which is equal to the number of rows plus one) from the page height. Then, divide the resulting value by the number of rows.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`rowHeight = (pageHeight - (rowsNumber + 1) * gutter) / rowsNumber;\n`}</code></pre>\n    <p>{`This is because we're using gutters as page margins, too, as the following illustration shows.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"62.5%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/5530d/grids-addon-rowheight.webp 320w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/0c8fb/grids-addon-rowheight.webp 640w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/94b1e/grids-addon-rowheight.webp 1280w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/0b34d/grids-addon-rowheight.webp 1920w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/f3963/grids-addon-rowheight.webp 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/dd4a7/grids-addon-rowheight.png 320w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/0f09e/grids-addon-rowheight.png 640w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/bbbf7/grids-addon-rowheight.png 1280w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/ac7a9/grids-addon-rowheight.png 1920w\", \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/6482f/grids-addon-rowheight.png 2500w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/aac12cd262819495fa857c994f712d9c/bbbf7/grids-addon-rowheight.png\",\n            \"alt\": \"grids addon rowheight\",\n            \"title\": \"grids addon rowheight\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`We must get hold of the `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Editor.md#documentroot\"\n      }}>{`Document`}</a>{` (as `}<inlineCode parentName=\"p\">{`documentRoot`}</inlineCode>{`, from the Editor class) and `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/PageNode/\"\n      }}>{`Page`}</a>{`—the first one from the `}<inlineCode parentName=\"p\">{`pages`}</inlineCode>{` list will be OK for our purposes. Page properties like `}<inlineCode parentName=\"p\">{`width`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`height`}</inlineCode>{` will be used to compute the attributes of each \"row\" Rectangle.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ...\nruntime.exposeApi({\n    addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n        const doc = editor.documentRoot;\n        const page = doc.pages.first;\n        const rowWidth = page.width;\n      const rowHeight = (page.height - (rowsNumber + 1) * gutter) / rowsNumber;\n    },\n});\n`}</code></pre>\n    <p>{`In case you want to use the currently active Page instead, you have to traverse back to it using the `}<inlineCode parentName=\"p\">{`insertionParent`}</inlineCode>{` property of the `}<inlineCode parentName=\"p\">{`context`}</inlineCode>{` we've seen earlier as a starting point, and its `}<inlineCode parentName=\"p\">{`parent`}</inlineCode>{` property until you reach a node whose `}<inlineCode parentName=\"p\">{`type`}</inlineCode>{` is equal to the string `}<inlineCode parentName=\"p\">{`\"Page\"`}</inlineCode>{`. Adobe Express documents must have at least one page, so this is a safe operation.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ...\n// Using the current page.\nlet currentNode = editor.context.insertionParent;\nlet page = null;\n\nwhile (currentNode) {\n    if (currentNode.type === \"Page\") {\n        page = currentNode;\n        break;\n    }\n    page = currentNode.parent;\n}\n// ... rest of the code\n`}</code></pre>\n    <p>{`To draw all four (or any number coming from the UI) rectangles at once, a loop is in order.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`  // ...\n  var rowsRect = [];\n  for (let i = 0; i < rows; i++) {\n      let r = editor.createRectangle();\n      r.width = page.width;\n      r.height = rowHeight;\n        // moving the row in place\n    r.translation = { x: 0, y: gutter + (gutter + rowHeight) * i };\n    rowsRect.push(r);\n  }\n  // adding the rows to the page\n  rowsRect.forEach((rect) => page.artboards.first.children.append(rect));\n`}</code></pre>\n    <p>{`We've created all the needed rectangles, shifting them on the Y-axis according to their number and gutter, collecting them in a `}<inlineCode parentName=\"p\">{`rowsRect`}</inlineCode>{` array; which, in turn, we've looped through to append them all to the first `}<inlineCode parentName=\"p\">{`artboard`}</inlineCode>{` in the page.`}</p>\n    {/* code below */}\n    <InlineAlert variant=\"info\" slots=\"text1\" mdxType=\"InlineAlert\" />\n    <p>{`Please remember that you must always `}<inlineCode parentName=\"p\">{`append()`}</inlineCode>{` elements to their container's `}<inlineCode parentName=\"p\">{`children`}</inlineCode>{` property.`}</p>\n    <p>{`Using the same principles, we can create columns: rectangles as tall as the page and whose width we can compute.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const doc = editor.documentRoot;\nconst page = doc.pages.first;\nvar colsRect = [];\nconst colWidth = (page.width - (cols + 1) * gutter) / cols;\nfor (let i = 0; i < cols; i++) {\n    let r = editor.createRectangle();\n      r.width = colWidth;\n      r.height = page.height;\n    r.translation = { x: gutter + (gutter + colWidth) * i, y: 0 };\n    cols.push(r);\n}\ncols.forEach((rect) => page.artboards.first.children.append(rect));\n`}</code></pre>\n    <p>{`We now have most of what is needed to complete the Grids add-on; we're in dire need of a better structure, though.`}</p>\n    <h3 {...{\n      \"id\": \"organizing-the-code\"\n    }}>{`Organizing the code`}</h3>\n    <p>{`The Grid creation process can be split into `}<strong parentName=\"p\">{`smaller, separate steps`}</strong>{`—we can take this chance to think about how to structure the entire project.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Creating a rectangle is best handled using a dedicated `}<inlineCode parentName=\"li\">{`createRect()`}</inlineCode>{` function.`}</li>\n      <li parentName=\"ul\">{`Rows and Columns can be separate processes, too.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`code.js`}</inlineCode>{` doesn't need to expose anything else but the `}<inlineCode parentName=\"li\">{`addGrid()`}</inlineCode>{` and  `}<inlineCode parentName=\"li\">{`deleteGrid()`}</inlineCode>{` methods.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`addRows()`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`addColumns()`}</inlineCode>{` can belong to the `}<inlineCode parentName=\"li\">{`shapeUtils.js`}</inlineCode>{` module and imported in `}<inlineCode parentName=\"li\">{`documentSandbox/code.js`}</inlineCode>{`, while `}<inlineCode parentName=\"li\">{`createRect()`}</inlineCode>{` will be kept as private.`}</li>\n    </ul>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"documentSandbox/code.js, documentSandbox/shapeUtils.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"documentsandboxcodejs-1\"\n    }}>{`documentSandbox/code.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\";\nimport { editor } from \"express-document-sdk\";\nimport { addColumns, addRows } from \"./shapeUtils\";\n\n// Get the Document Sandbox.\nconst { runtime } = addOnSandboxSdk.instance;\n\nfunction start() {\n  const sandboxProxy = {\n    addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n      addRows(rows, gutter, rowColor);\n      addColumns(columns, gutter, columnColor);\n            // ...\n    },\n    deleteGrid() {\n      // ...\n    },\n  };\n  runtime.exposeApi(sandboxProxy);\n}\nstart();\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"documentsandboxshapeutilsjs\"\n    }}>{`documentSandbox/shapeUtils.js`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { editor, colorUtils, constants } from \"express-document-sdk\";\n\n// Utility to create a rectangle and fill it with a color.\nconst createRect = (width, height, color) => {\n  const rect = editor.createRectangle();\n  rect.width = width;\n  rect.height = height;\n  // Fill the rectangle with the color.\n  const rectangleFill = editor.makeColorFill(colorUtils.fromHex(color));\n  rect.fill = rectangleFill;\n  return rect;\n};\n\nconst addRows = (rowsNumber, gutter, color) => {\n  const page = editor.documentRoot.pages.first;\n  var rows = [];\n  const rowHeight = (page.height - (rowsNumber + 1) * gutter) / rowsNumber;\n  for (let i = 0; i < rowsNumber; i++) {\n    let r = createRect(page.width, rowHeight, color);\n    r.translation = { x: 0, y: gutter + (gutter + rowHeight) * i };\n    rows.push(r);\n  }\n  rows.forEach((row) => page.artboards.first.children.append(row));\n};\n\nconst addColumns = (columNumber, gutter, color) => {\n  const page = editor.documentRoot.pages.first;\n  var cols = [];\n  const colWidth = (page.width - (columNumber + 1) * gutter) / columNumber;\n  for (let i = 0; i < columNumber; i++) {\n    let r = createRect(colWidth, page.height, color);\n    r.translation = { x: gutter + (gutter + colWidth) * i, y: 0 };\n    cols.push(r);\n  }\n  cols.forEach((col) => page.artboards.first.children.append(col));\n};\n\nexport { addColumns, addRows };\n`}</code></pre>\n    <p>{`As planned, `}<inlineCode parentName=\"p\">{`createRect()`}</inlineCode>{` conveniently acts as a rectangles factory function, consumed by `}<inlineCode parentName=\"p\">{`addRows()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`addColumns()`}</inlineCode>{`. Since the color is received as a Hex string (like `}<inlineCode parentName=\"p\">{`\"#ffcccc\"`}</inlineCode>{`), we make use of the `}<inlineCode parentName=\"p\">{`colorUtil.fromHex()`}</inlineCode>{` method to convert into a Color instance—see `}<inlineCode parentName=\"p\">{`shapeUtils.js`}</inlineCode>{`, line 9.`}</p>\n    <p>{`It'd be nice to group rows and columns. The Editor class provides a `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/Editor.md#creategroup\"\n      }}><inlineCode parentName=\"a\">{`createGroup()`}</inlineCode></a>{` method returning a `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/GroupNode/\"\n      }}><inlineCode parentName=\"a\">{`GroupNode`}</inlineCode></a>{`. Like all `}<inlineCode parentName=\"p\">{`ContainerNode`}</inlineCode>{` classes, it has a `}<inlineCode parentName=\"p\">{`children`}</inlineCode>{` property, which we can append rectangles to.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const addRows = (rowsNumber, gutter, color) => {\n  // ...\n  var rows = [];\n  // ...\n\n  const rowsGroup = editor.createGroup();          // creating a group\n  page.artboards.first.children.append(rowsGroup); // appending to the page\n  rowsGroup.children.append(...rows);              // appending rectangles\n};\n// 👆 same in addColumns()\n`}</code></pre>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1280px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"49.375%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/5530d/grids-addon-groups.webp 320w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/0c8fb/grids-addon-groups.webp 640w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/94b1e/grids-addon-groups.webp 1280w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/0b34d/grids-addon-groups.webp 1920w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/d5269/grids-addon-groups.webp 2560w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/60878/grids-addon-groups.webp 2631w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/dd4a7/grids-addon-groups.png 320w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/0f09e/grids-addon-groups.png 640w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/bbbf7/grids-addon-groups.png 1280w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/ac7a9/grids-addon-groups.png 1920w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/c7a69/grids-addon-groups.png 2560w\", \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/3c606/grids-addon-groups.png 2631w\"],\n            \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/express-add-ons-docs/static/3f35b5f1867de40509f2b423d657079d/bbbf7/grids-addon-groups.png\",\n            \"alt\": \"grids addon groups\",\n            \"title\": \"grids addon groups\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`To complete the project, we can add some finishing touches. Groups can be locked: preventing accidental shifts and transformations would be nice indeed. The Reference documentation comes in handy again with the boolean `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/GroupNode.md#locked\"\n      }}><inlineCode parentName=\"a\">{`locked`}</inlineCode></a>{` property, which we can easily set after populating the group.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ...\nrowsGroup.children.append(...rows);\nrowsGroup.locked = true;\n`}</code></pre>\n    <p>{`The Reference also shows an interesting `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/GroupNode.md#blendmode\"\n      }}><inlineCode parentName=\"a\">{`blendMode`}</inlineCode></a>{`: setting it to `}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/enums/BlendMode/#multiply\"\n      }}><inlineCode parentName=\"a\">{`multiply`}</inlineCode></a>{` will produce a visually nicer overlay effect (`}<a parentName=\"p\" {...{\n        \"href\": \"/express-add-ons-docs/references/document-sandbox/document-apis/classes/GroupNode.md#opacity\"\n      }}>{`opacity`}</a>{` can be an alternative).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// ...\nrowsGroup.blendMode = constants.BlendMode.multiply;\nrowsGroup.locked = true;\n`}</code></pre>\n    <p>{`At present, the Reference includes only a few enumerations, such as `}<inlineCode parentName=\"p\">{`BlendMode`}</inlineCode>{`. As the Document API expands, more enumerations will be added. They provide sets of named constants, making the code more readable by replacing direct numeric values with descriptive names.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text1\" mdxType=\"InlineAlert\" />\n    <p>{`For example, the Multiply blend mode corresponds to the number 3. Although, developers should avoid hard-coding enum's values, as they are for internal use and subject to change.`}</p>\n    <p>{`It would be preferable if a single group contained Rows and Columns; we must edit both `}<inlineCode parentName=\"p\">{`addRows()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`addColumns()`}</inlineCode>{` first to return their group in order to reference them in the parent one.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const addRows = (rowsNumber, gutter, color) => {\n    // ...\n    rowsGroup.locked = true;\n    return rowsGroup;  // 👈 returning the group\n}\n\nconst addColumns = (columNumber, gutter, color) => {\n    // ...\n    columnsGroup.locked = true;\n    return columnsGroup;// 👈 \n}\n`}</code></pre>\n    <p>{`They can be referenced in `}<inlineCode parentName=\"p\">{`addGrid()`}</inlineCode>{`, appending them as children of this new group.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n    // ...\n\n    const rowGroup = addRows(rows, gutter, rowColor);\n    const columnGroup = addColumns(columns, gutter, columnColor);\n\n    // create a parent group\n    const gridGroup = editor.createGroup();\n    page.artboards.first.children.append(gridGroup);\n    gridGroup.children.append(rowGroup, columnGroup); // filling with Rows and Columns\n    gridGroup.locked = true;\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"deleting-grids\"\n    }}>{`Deleting Grids`}</h3>\n    <p>{`From the users' perspective, it would speed up the testing process of new grid designs if they could clear the current one and experiment with different combinations—that is, a Delete button. You can both add and remove elements to a container object's `}<inlineCode parentName=\"p\">{`children`}</inlineCode>{` list: most Node elements have a `}<inlineCode parentName=\"p\">{`removeFromParent()`}</inlineCode>{` method, which detaches them from their parent container.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`gridGroup.removeFromParent(); // voilà\n`}</code></pre>\n    <p>{`Curb your enthusiasm: if you think about it, there might be an issue lurking here. The process of removing a group is performed at a later time, with respect to its creation: how can we be sure to target the correct container? Groups don't have names or IDs, at least for the time being. Luckily, the `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{` file provides `}<strong parentName=\"p\">{`an environment that persists in between iframe calls`}</strong>{`: in other words, you can store the group in a variable and retrieve it later.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`let gridRef = null; // 👈 Grids group reference\n\nfunction start() {\n  runtime.exposeApi({\n    addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n      // ...\n      const gridGroup = editor.createGroup();\n      // ...\n      gridRef = gridGroup; // 👈 storing the group for later\n    },\n    deleteGrid() {\n      if (gridRef) {\n        try {\n          gridRef.removeFromParent(); // 👈 removing from the document\n          gridRef = null;             //    clearing the reference\n        } catch (error) {\n          console.error(error);\n          return \"Error: the Grid could not be deleted.\"\n        }\n      } \n    },\n  });\n}\nstart();\n`}</code></pre>\n    <p>{`Although not exposed through the Communication API, the `}<inlineCode parentName=\"p\">{`gridRef`}</inlineCode>{` variable is private to `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{`, and exists within the closure of the functions defined inside and exposed by `}<inlineCode parentName=\"p\">{`runtime.exposeApi()`}</inlineCode>{`.`}<sup parentName=\"p\" {...{\n        \"id\": \"fnref-6\"\n      }}><a parentName=\"sup\" {...{\n          \"href\": \"#fn-6\",\n          \"className\": \"footnote-ref\"\n        }}>{`6`}</a></sup></p>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next Steps`}</h2>\n    <p>{`Congratulations! You've coded from scratch the Grids Design System add-on. This proof-of-concept may be extended to make it even more useful as a product; you may implement the following features as an exercise.`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Page margins`}</strong>{`: we're using the gutter for this purpose, but a proper `}<inlineCode parentName=\"li\">{`<sp-number-field>`}</inlineCode>{` can be added to allow users to set margins.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Visibility toggle`}</strong>{`: Use a `}<inlineCode parentName=\"li\">{`<sp-slider>`}</inlineCode>{`to control the grid's opacity, or add a `}<inlineCode parentName=\"li\">{`<sp-switch>`}</inlineCode>{` to toggle them on and off.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Presets`}</strong>{`: a dropdown menu might store commonly used grid sets—use a `}<inlineCode parentName=\"li\">{`<sp-picker>`}</inlineCode>{` and the `}<a parentName=\"li\" {...{\n          \"href\": \"/express-add-ons-docs/references/addonsdk/instance-clientStorage/\"\n        }}>{`Client Storage API`}</a>{`.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"lessons-learned\"\n    }}>{`Lessons Learned`}</h2>\n    <p>{`Let's review the concepts covered in this tutorial and how they've been implemented in the Grids add-on.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The `}<strong parentName=\"li\">{`iframe`}</strong>{` and the `}<strong parentName=\"li\">{`Document Sandbox`}</strong>{` are two distinct entities able to share contexts via the Communication API. We've used the `}<inlineCode parentName=\"li\">{`exposeApi()`}</inlineCode>{` method of the `}<inlineCode parentName=\"li\">{`runtime`}</inlineCode>{` object to allow the iframe to invoke functions in the Document API domain.`}</li>\n      <li parentName=\"ul\">{`The `}<strong parentName=\"li\">{`Document API`}</strong>{` provides access to Adobe Express' Document Object Model, which defines containment structures and inheritance hierarchies. We've retrieved the document, its pages, and artboards; created, moved and assigned blending modes to shapes; created, populated and locked groups.`}</li>\n      <li parentName=\"ul\">{`Nodes (elements) in Adobe Express documents can be added to the document in a position relative to the currently active selection or targeting a container as the `}<strong parentName=\"li\">{`insertion point`}</strong>{`; we've seen how `}<inlineCode parentName=\"li\">{`ContainerNode`}</inlineCode>{` elements have a `}<inlineCode parentName=\"li\">{`children`}</inlineCode>{` collection to `}<inlineCode parentName=\"li\">{`append()`}</inlineCode>{` elements to.`}</li>\n      <li parentName=\"ul\">{`The Document API `}<strong parentName=\"li\">{`context is permanent`}</strong>{` in between iframe calls. We've seen that it's possible to store a reference to a Node within the exposed methods' closure and act upon it after its creation.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Spectrum Web Components`}</strong>{` are crucial to UI building, but sometimes they require customization; in this project, we've linked a `}<inlineCode parentName=\"li\">{`<sp-swatch>`}</inlineCode>{` to a traditional `}<inlineCode parentName=\"li\">{`<input>`}</inlineCode>{` element to create an Adobe Express' native-looking color picker.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"final-project\"\n    }}>{`Final Project`}</h2>\n    <p>{`The code for this project can be downloaded `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/document-sandbox-samples/express-grids-addon\"\n      }}>{`here`}</a>{`. It's available in two states: the starting point (one Create Shape button in the UI and the respective Document API function) if you want to follow along with the tutorial and type in the code—the best way to learn—and the final state, which code is also found below for convenience.`}</p>\n    {/* Code below */}\n    <CodeBlock slots=\"heading, code\" repeat=\"5\" languages=\"index.html, index.js, styles.css, code.js, shapeUtils.js\" mdxType=\"CodeBlock\" />\n    <h4 {...{\n      \"id\": \"iframe-4\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"description\" content=\"Adobe Express Add-on tutorial using JavaScript and the Document Sandbox\" />\n  <meta name=\"keywords\" content=\"Adobe, Express, Add-On, JavaScript, Document Sandbox, Adobe Express Document API\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>Grids add-on</title>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n\n<body>\n  <sp-theme scale=\"medium\" color=\"light\" theme=\"express\">\n    <h2>Design Grid creator</h2>\n    <div class=\"row gap-20\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <sp-field-label for=\"rows\" size=\"m\">Rows</sp-field-label>\n          <sp-number-field id=\"rows\" min=\"1\" max=\"20\">\n          </sp-number-field>\n        </div>\n        <sp-swatch id=\"rowsColorSwatch\" class=\"color-well\"></sp-swatch>\n        <input type=\"color\" id=\"rowsColorPicker\" style=\"display: none;\">\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <sp-field-label for=\"cols\" size=\"m\">Columns</sp-field-label>\n          <sp-number-field id=\"cols\" min=\"1\" max=\"20\">\n          </sp-number-field>\n        </div>\n        <sp-swatch id=\"colsColorSwatch\" class=\"color-well\"></sp-swatch>\n        <input type=\"color\" id=\"colsColorPicker\" style=\"display: none;\">\n      </div>\n    </div>\n    <div class=\"row\">\n      <sp-slider label=\"Gutter\" id=\"gutter\" variant=\"filled\" editable hide-stepper min=\"1\" max=\"50\"\n        format-options='{\"style\": \"unit\", \"unit\": \"px\"}' step=\"1\"></sp-slider>\n    </div>\n    <sp-button-group horizontal>\n      <sp-button id=\"deleteGrid\" variant=\"secondary\" disabled>Delete</sp-button>\n      <sp-button id=\"createGrid\" disabled>Create</sp-button>\n    </sp-button-group>\n  </sp-theme>\n</body>\n\n</html>\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"iframe-5\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import \"@spectrum-web-components/styles/typography.css\";\n\nimport \"@spectrum-web-components/theme/src/themes.js\";\nimport \"@spectrum-web-components/theme/theme-light.js\";\nimport \"@spectrum-web-components/theme/express/theme-light.js\";\nimport \"@spectrum-web-components/theme/express/scale-medium.js\";\nimport \"@spectrum-web-components/theme/sp-theme.js\";\n\nimport \"@spectrum-web-components/button/sp-button.js\";\nimport \"@spectrum-web-components/button-group/sp-button-group.js\";\nimport \"@spectrum-web-components/field-label/sp-field-label.js\";\nimport \"@spectrum-web-components/number-field/sp-number-field.js\";\nimport \"@spectrum-web-components/slider/sp-slider.js\";\nimport \"@spectrum-web-components/swatch/sp-swatch.js\";\n\nimport addOnUISdk from \"https://new.express.adobe.com/static/add-on-sdk/sdk.js\";\n\naddOnUISdk.ready.then(async () => {\n  console.log(\"addOnUISdk is ready for use.\");\n\n  // Get the Document Sandbox.\n  const { runtime } = addOnUISdk.instance;\n  const sandboxProxy = await runtime.apiProxy(\"documentSandbox\");\n\n  // Input fields -------------------------------------------\n\n  const rowsInput = document.getElementById(\"rows\");\n  const colsInput = document.getElementById(\"cols\");\n  const gutterInput = document.getElementById(\"gutter\");\n\n  rowsInput.value = 4;\n  colsInput.value = 6;\n  gutterInput.value = 10;\n\n  // Color pickers ------------------------------------------\n\n  const colsColorPicker = document.getElementById(\"colsColorPicker\");\n  const colsColorSwatch = document.getElementById(\"colsColorSwatch\");\n  const rowsColorPicker = document.getElementById(\"rowsColorPicker\");\n  const rowsColorSwatch = document.getElementById(\"rowsColorSwatch\");\n\n  colsColorPicker.value = \"#ffcccc\";\n  colsColorSwatch.color = \"#ffcccc\";\n  rowsColorPicker.value = \"#ccccff\";\n  rowsColorSwatch.color = \"#ccccff\";\n\n  colsColorSwatch.addEventListener(\"click\", function () {\n    colsColorPicker.click();\n  });\n  colsColorPicker.addEventListener(\"input\", function (event) {\n    const selectedColor = event.target.value;\n    colsColorSwatch.setAttribute(\"color\", selectedColor);\n  });\n\n  rowsColorSwatch.addEventListener(\"click\", function () {\n    rowsColorPicker.click();\n  });\n  rowsColorPicker.addEventListener(\"input\", function (event) {\n    const selectedColor = event.target.value;\n    rowsColorSwatch.setAttribute(\"color\", selectedColor);\n  });\n\n  // CTA Buttons --------------------------------------------\n\n  const createGridBtn = document.getElementById(\"createGrid\");\n  const deleteGridBtn = document.getElementById(\"deleteGrid\");\n\n  deleteGridBtn.onclick = async (event) => {\n    const res = await sandboxProxy.deleteGrid();\n    if (res) {\n      // When there's been an error deleting the grid, you may want to handle it here\n    }\n    deleteGridBtn.disabled = true;\n  };\n\n  createGridBtn.onclick = async (event) => {\n    await sandboxProxy.addGrid({\n      columns: colsInput.value,\n      rows: rowsInput.value,\n      gutter: gutterInput.value,\n      columnColor: colsColorPicker.value,\n      rowColor: rowsColorPicker.value,\n    });\n    deleteGridBtn.disabled = false;\n  };\n\n  // Only now it is safe to enable the button\n  createGridBtn.disabled = false;\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"iframe-6\"\n    }}>{`iframe`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-css\"\n      }}>{`body {\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n}\n\nsp-theme {\n  margin: 0 var(--spectrum-global-dimension-static-size-300);\n  display: grid;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  align-items: flex-end;\n}\n\n.gap-20 {\n  gap: var(--spectrum-global-dimension-static-size-250);\n}\n\n.gutter-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  align-items: flex-start;\n  border: 1px solid black;\n  margin-bottom: var(--spectrum-global-dimension-static-size-150);\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  padding-right: var(--spectrum-global-dimension-static-size-100);\n  width: var(--spectrum-global-dimension-static-size-1000);\n}\n\nh2 {\n  font-weight: var(--spectrum-global-font-weight-black);\n}\n\nsp-swatch {\n  width: var(--spectrum-swatch-size-medium);\n}\n\n.color-well {\n  cursor: pointer;\n  --mod-swatch-border-thickness: var(--spectrum-divider-thickness-small);\n  --mod-swatch-border-color: var(--spectrum-transparent-black-500);\n}\n\nsp-button {\n  flex: 1;\n  max-width: calc(\n    (100% - var(--spectrum-global-dimension-static-size-250)) / 2\n  );\n}\n\nsp-number-field,\nsp-slider {\n  width: 100%;\n}\n\nsp-button-group {\n  margin-top: var(--spectrum-global-dimension-static-size-300);\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api-4\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\";\nimport { editor } from \"express-document-sdk\";\nimport { addColumns, addRows } from \"./shapeUtils\";\n\n// Get the Document Sandbox.\nconst { runtime } = addOnSandboxSdk.instance;\n\nlet gridRef = null;\n\nfunction start() {\n  // APIs to be exposed to the UI runtime\n  runtime.exposeApi({\n    /**\n     * Add a grid to the document.\n     *\n     * @param {Object} options - The options for the grid.\n     * @param {number} options.columns - The number of columns in the grid.\n     * @param {number} options.rows - The number of rows in the grid.\n     * @param {number} options.gutter - The size of the gutter between columns and rows.\n     * @param {string} options.columnColor - The color of the columns.\n     * @param {string} options.rowColor - The color of the rows.\n     * @returns {Group} The group containing the grid.\n     */\n    addGrid({ columns, rows, gutter, columnColor, rowColor }) {\n      // Get the document and page.\n      const doc = editor.documentRoot;\n      const page = doc.pages.first;\n      // Create the grid.\n      const rowGroup = addRows(rows, gutter, rowColor);\n      const columnGroup = addColumns(columns, gutter, columnColor);\n\n      // Create the grid's group.\n      const gridGroup = editor.createGroup();\n      page.artboards.first.children.append(gridGroup);\n      gridGroup.children.append(rowGroup, columnGroup);\n      gridGroup.locked = true;\n\n      // Save the grid reference.\n      gridRef = gridGroup;\n    },\n\n    /**\n     * Delete the grid from the document.\n     * @returns {void}\n     */\n    deleteGrid() {\n      if (gridRef) {\n        try {\n          gridRef.removeFromParent();\n          gridRef = null;\n        } catch (error) {\n          console.error(error);\n          return \"Error: the Grid could not be deleted.\";\n        }\n      }\n    },\n  });\n}\n\nstart();\n\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"document-api-5\"\n    }}>{`Document API`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { editor, colorUtils, constants } from \"express-document-sdk\";\n\n/**\n * Create a rectangle with the specified width, height, and color.\n * Private utility of the shapeUtils module.\n *\n * @param {number} width - The width of the rectangle.\n * @param {number} height - The height of the rectangle.\n * @param {string} color - The color of the rectangle in hex format.\n * @returns {RectangleNode} The created rectangle.\n */\nconst createRect = (width, height, color) => {\n  const rect = editor.createRectangle();\n  rect.width = width;\n  rect.height = height;\n  const rectangleFill = editor.makeColorFill(colorUtils.fromHex(color));\n  rect.fill = rectangleFill;\n  return rect;\n};\n\n/**\n * Add rows of rectangles to the document.\n *\n * @param {number} rowsNumber - The number of rows to add.\n * @param {number} gutter - The size of the gutter between rows.\n * @param {string} color - The color of the rows in hex format.\n * @returns {GroupNode} A group containing the created rows.\n */\nconst addRows = (rowsNumber, gutter, color) => {\n  const doc = editor.documentRoot;\n  const page = doc.pages.first;\n\n  var rows = [];\n  const rowHeight = (page.height - (rowsNumber + 1) * gutter) / rowsNumber;\n  // Create the rectangles\n  for (let i = 0; i < rowsNumber; i++) {\n    let r = createRect(page.width, rowHeight, color);\n    r.translation = { x: 0, y: gutter + (gutter + rowHeight) * i };\n    rows.push(r);\n  }\n  // Append the rectangles to the document\n  rows.forEach((row) => page.artboards.first.children.append(row));\n  // Create the group\n  const rowsGroup = editor.createGroup();\n  // Append the group to the document\n  page.artboards.first.children.append(rowsGroup);\n  // Populate the group with the rectangles\n  rowsGroup.children.append(...rows);\n  // Edit the group's properties\n  rowsGroup.blendMode = constants.BlendMode.multiply;\n  rowsGroup.locked = true;\n  return rowsGroup;\n};\n\n/**\n * Add columns of rectangles to the document.\n *\n * @param {number} columsNumber - The number of columns to add.\n * @param {number} gutter - The size of the gutter between columns.\n * @param {string} color - The color of the columns in hex format.\n * @returns {GroupNode} A group containing the created columns.\n */\nconst addColumns = (columsNumber, gutter, color) => {\n  const doc = editor.documentRoot;\n  const page = doc.pages.first;\n  var cols = [];\n  const colWidth = (page.width - (columsNumber + 1) * gutter) / columsNumber;\n  // Create the rectangles\n  for (let i = 0; i < columsNumber; i++) {\n    let r = createRect(colWidth, page.height, color);\n    r.translation = { x: gutter + (gutter + colWidth) * i, y: 0 };\n    cols.push(r);\n  }\n  // Append the rectangles to the document\n  cols.forEach((col) => page.artboards.first.children.append(col));\n  // Create the group\n  const columnsGroup = editor.createGroup();\n  // Append the group to the document\n  page.artboards.first.children.append(columnsGroup);\n  // Populate the group with the rectangles\n  columnsGroup.children.append(...cols);\n  // Edit the group's properties\n  columnsGroup.blendMode = constants.BlendMode.multiply;\n  columnsGroup.locked = true;\n  return columnsGroup;\n};\n\nexport { addColumns, addRows };\n\n`}</code></pre>\n    {/* Footnotes */}\n\n    <div {...{\n      \"className\": \"footnotes\"\n    }}>\n      <hr parentName=\"div\"></hr>\n      <ol parentName=\"div\">\n        <li parentName=\"ol\" {...{\n          \"id\": \"fn-2\"\n        }}>{`The quotes are from the Documentation Reference of each element.`}<a parentName=\"li\" {...{\n            \"href\": \"#fnref-2\",\n            \"className\": \"footnote-backref\"\n          }}>{`↩`}</a></li>\n        <li parentName=\"ol\" {...{\n          \"id\": \"fn-3\"\n        }}>{`The terms \"list\" is used in the Adobe Express reference documentation, while \"collection\" may be more familiar to CEP/UXP developers; they are used interchangeably here.`}<a parentName=\"li\" {...{\n            \"href\": \"#fnref-3\",\n            \"className\": \"footnote-backref\"\n          }}>{`↩`}</a></li>\n        <li parentName=\"ol\" {...{\n          \"id\": \"fn-4\"\n        }}>{`It could have been another `}<inlineCode parentName=\"li\">{`<sp-number-field>`}</inlineCode>{`, but a slider played well with the overall design.`}<a parentName=\"li\" {...{\n            \"href\": \"#fnref-4\",\n            \"className\": \"footnote-backref\"\n          }}>{`↩`}</a></li>\n        <li parentName=\"ol\" {...{\n          \"id\": \"fn-5\"\n        }}>{`For example, you may want to retrieve the page's `}<inlineCode parentName=\"li\">{`width`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`height`}</inlineCode>{` properties at the beginning, and use them in the rest of the code.`}<a parentName=\"li\" {...{\n            \"href\": \"#fnref-5\",\n            \"className\": \"footnote-backref\"\n          }}>{`↩`}</a></li>\n        <li parentName=\"ol\" {...{\n          \"id\": \"fn-6\"\n        }}>{`Future versions of the Document API may provide more deliberate ways to refer to elements.`}<a parentName=\"li\" {...{\n            \"href\": \"#fnref-6\",\n            \"className\": \"footnote-backref\"\n          }}>{`↩`}</a></li>\n      </ol>\n    </div>\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","ListBlock","CodeBlock","InlineAlert","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","_extends","mdxType","parentName","slots","repeat","iconColor","icon","variant","languages","isMDXComponent"],"sourceRoot":""}