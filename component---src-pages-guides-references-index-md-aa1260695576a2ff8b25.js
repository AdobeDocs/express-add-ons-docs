"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7021],{20575:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return s},default:function(){return u}});var a=t(87462),o=t(63366),d=(t(15007),t(64983)),i=t(91515),r=["components"],s={},l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",n)}},p=l("InlineAlert"),m=l("CodeBlock"),c={_frontmatter:s},h=i.Z;function u(e){var n=e.components,t=(0,o.Z)(e,r);return(0,d.mdx)(h,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"api-reference"},"API Reference"),(0,d.mdx)("h2",{id:"overview"},"Overview"),(0,d.mdx)("p",null,"This section covers the APIs available for developing your add-ons. It begins with an introduction to the main ",(0,d.mdx)("inlineCode",{parentName:"p"},"AddOnSdk")," core object reference, along with an overview of some other core objects you will be using throughout your add-on development. In the left expanded menu, you will find the list of API sub-sections, where you can find the interface definitions along with an example code snippet to illustrate the usage. However, you should also check out the ",(0,d.mdx)("a",{parentName:"p",href:"../develop/samples.md"},"code samples")," for a more in-depth example of how to use them as well as the ",(0,d.mdx)("a",{parentName:"p",href:"../develop/"},"recipes")," section for more details. "),(0,d.mdx)("h2",{id:"addonsdk-object"},"AddOnSdk Object"),(0,d.mdx)("p",null,"The first object you will need to be aware of when developing your add-ons is the ",(0,d.mdx)("strong",{parentName:"p"},"AddOnSdk")," object.\nThe Add-on SDK is available as a hosted JavaScript module on a CDN. It's referenced with an ",(0,d.mdx)("inlineCode",{parentName:"p"},"import")," statement in either an HTML ",(0,d.mdx)("inlineCode",{parentName:"p"},"<script>")," tag or in the list of ",(0,d.mdx)("inlineCode",{parentName:"p"},"import")," statements in the JavaScript source. However, you don't need to worry about adding this reference if you used the CLI to create your add-on project, since it will already be imported for you, and the location it was placed will depend on the ",(0,d.mdx)("inlineCode",{parentName:"p"},"template")," you chose. "),(0,d.mdx)("p",null,"But for reference, below are some examples of how it can be imported for use."),(0,d.mdx)("h3",{id:"import-into-html-file"},"Import into HTML file"),(0,d.mdx)("p",null,"To use the SDK from an HTML file, simply include a link to it in a ",(0,d.mdx)("inlineCode",{parentName:"p"},"<script>")," tag with the ",(0,d.mdx)("inlineCode",{parentName:"p"},"type=module")," attribute on it to ensure everything is initialized properly. "),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'<body>\n        Hello World!\n\n        <script type="module">\n            import AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\n            ...            \n        <\/script>\n    </body>\n')),(0,d.mdx)(p,{slots:"text",variant:"success",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"TIP:")," Placing your ",(0,d.mdx)("inlineCode",{parentName:"p"},"<script>")," tag just before the closing ",(0,d.mdx)("inlineCode",{parentName:"p"},"<body>")," tag helps reduce the page loading time."),(0,d.mdx)("h3",{id:"import-into-javascript-file"},"Import into JavaScript file"),(0,d.mdx)("p",null,"If you want to reference the Add-on SDK in your ",(0,d.mdx)("inlineCode",{parentName:"p"},".js/.jsx")," source files, add it to the list of imports as a default module reference, such as in the following:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'import AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n')),(0,d.mdx)("h3",{id:"import-into-typescript-file"},"Import into TypeScript file"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'// @ts-ignore Import module\nimport AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"NOTE:")," If you create your add-on project with the CLI based on the ",(0,d.mdx)("inlineCode",{parentName:"p"},"typescript")," or ",(0,d.mdx)("inlineCode",{parentName:"p"},"typescript-react")," templates, you will automatically get the following type definition generated in your project for you:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-ts"},'declare module "https://new.express.adobe.com/static/add-on-sdk/sdk.js" {\n    export * from "@adobe-ccwebext/ccweb-add-on-sdk-types";\n    export { default } from "@adobe-ccwebext/ccweb-add-on-sdk-types";\n}\n')),(0,d.mdx)("body",null,"Hello World!",(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre"},'<script type="module">\n    import AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\n    AddOnSdk.ready.then(async () => {\n        console.log("AddOnSdk is ready for use.");\n    });\n<\/script>\n'))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"AddOnSdk")," provides the following interface definition and exposes several variables listed below, and is also how you can determine when the APIs are ready to interact with."),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"ready"),": Used to determine when you can start accessing the APIs. "),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"apiVersion"),": Current version of the SDK running."),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"instance"),": the currently running add-on instance (see ",(0,d.mdx)("a",{parentName:"li",href:"#addon"},"AddOn Object"),"), allowing you to access the ",(0,d.mdx)("a",{parentName:"li",href:"#manifest"},"manifest.json")," details and a ",(0,d.mdx)("a",{parentName:"li",href:"#client-storage"},"Client Storage")," object, which allows you to locally persist to storage, per user and for this add-on."),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"app"),": Provides access to the host application (Adobe Express). See the ",(0,d.mdx)("a",{parentName:"li",href:"#application"},(0,d.mdx)("inlineCode",{parentName:"a"},"Application"))," definition below for more details.")),(0,d.mdx)(p,{slots:"text",variant:"success",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"The terms ",(0,d.mdx)("strong",{parentName:"p"},"SDK")," (software development kit) and ",(0,d.mdx)("strong",{parentName:"p"},"API")," (application programming interface) can often seem to become blurry. To clarify further, an SDK can be thought of as a kit that contains everything you need to write an application (in this case add-on) for a platform. This includes not only the APIs, but also the tools and other dependencies, helpers and components involved. API's themselves, on the other hand, define the interface defintions that are used to retrieve the information needed to implement features a developer may want to offer."),(0,d.mdx)(m,{slots:"heading, code",repeat:"3",languages:"JavaScript",mdxType:"CodeBlock"}),(0,d.mdx)("h3",{id:"interface"},"Interface"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * The main API Interface exposed by the SDK to the consuming Add-on code.\n */\ninterface AddOnSdk {\n    /**\n     * Resolves when the SDK has made a successful connection to the host app.\n     * Indicates that APIs directly interacting with the host application are ready.\n     * Register a call back with @see Promise#then or await this promise.\n     */\n    readonly ready: Promise<void>;\n\n    \n    /**\n     * API version of the SDK.\n     */\n    readonly apiVersion: string;\n\n    /**\n     * Represents capabilities and events of the currently running Add-on Instance.\n     * The interface type depends on the type of the underlying Add-on.\n     */\n    readonly instance: AddOn;\n\n    /**\n     * Represents capabilities and events of the host application.\n     */\n    readonly app: Application;\n}\n")),(0,d.mdx)("h3",{id:"example"},"Example"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'import AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\nAddOnSdk.ready.then(() => {\n  console.log("API version", AddOnSdk.apiVersion);\n  console.log("Add-on instance object", JSON.stringify(AddOnSdk.instance));\n  console.log("Application object", JSON.stringify(AddOnSdk.app));  \n});\n')),(0,d.mdx)("h3",{id:"output"},"Output"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'API version 1\n\nAdd-on instance object {"manifest":{"testId":"08f4469f-7999-458b-9ef9-b1bd043cbdca","name":"Add On Api Sampler","version":"1.0.0","manifestVersion":2,"requirements":{"apps":[{"name":"Express","apiVersion":1}]},"entryPoints":[{"type":"panel","id":"panel1","main":"https://localhost:5241/08f4469f-7999-458b-9ef9-b1bd043cbdca/index.html"}]},"clientStorage":{}}\n\nApplication object {"ui":{"theme":"light","locale":"en-US","locales":["cy-GB","da-DK","de-DE","en-US","es-ES","fi-FI","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pt-BR","sv-SE","zh-Hans-CN","zh-Hant-TW","zz-ZZ"]},"oauth":{},"document":{}}\n')),(0,d.mdx)("h2",{id:"application-object"},"Application Object"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("a",{parentName:"p",href:"#AddOnSdk"},(0,d.mdx)("inlineCode",{parentName:"a"},"AddOnSdk"))," provides you with an ",(0,d.mdx)("inlineCode",{parentName:"p"},"app")," variable, which is of type ",(0,d.mdx)("inlineCode",{parentName:"p"},"Application"),", defined below, and allows you to access the following objects which are used throughout this reference:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"ui"),": Provides access to the ",(0,d.mdx)("a",{parentName:"li",href:"#theme"},"theme"),", ",(0,d.mdx)("a",{parentName:"li",href:"language-locale"},"locale and locales"),"."),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"document"),": Provides access to the methods needed for ",(0,d.mdx)("a",{parentName:"li",href:"#import"},"adding an image or video")," the document and for ",(0,d.mdx)("a",{parentName:"li",href:"#export"},"creating a rendition")," for export."),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"oauth"),": Provides access to the OAuth methods needed for use with the ",(0,d.mdx)("a",{parentName:"li",href:"oauth-20"},"OAuth API"),".")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * Interface that represents the underlying Application (Adobe Express).\n */\nexport interface Application {\n    /**\n     * Represents the UI of the app (Adobe Express). Provides access to theme, locale and locales.\n     */\n    readonly ui: UI;\n\n    /**\n     * Represents the active document and provides access to the methods needed for adding an image or video the document and creating a rendition (for export).\n     */\n    readonly document: Document;\n\n    /**\n     * OAuth 2.0 middleware for handling user authorization. Provides access to the OAuth methods needed to implement OAuth 2.0.\n     */\n    readonly oauth: OAuth;\n}\n")),(0,d.mdx)("h2",{id:"addon-object"},"AddOn Object"),(0,d.mdx)("p",null,"Represents the current add-on, providing references to ",(0,d.mdx)("inlineCode",{parentName:"p"},"manifest")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"clientStorage")," objects. "),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * Base interface for all type of add-ons\n */\nexport interface AddOn {\n    \n    /**\n     * Add-ons Manifest details - this maps to entries in the add-ons manifest.json file.\n     */\n    readonly manifest: Record<string, unknown>;\n\n    /**\n     * Local-persisted storage per user per addon.\n     */\n    readonly clientStorage: ClientStorage;\n}\n")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-references-index-md-aa1260695576a2ff8b25.js.map