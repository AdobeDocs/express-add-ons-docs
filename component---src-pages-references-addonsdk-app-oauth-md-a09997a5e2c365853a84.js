"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7075],{37047:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return u}});var n=a(87462),i=a(63366),r=(a(15007),a(64983)),d=a(91515),o=["components"],l={},m={_frontmatter:l},p=d.Z;function u(e){var t=e.components,a=(0,i.Z)(e,o);return(0,r.mdx)(p,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"addonsdkappoauth"},"AddOnSdk.app.oauth"),(0,r.mdx)("p",null,"Provides access to the OAuth API methods needed for implementing the ",(0,r.mdx)("a",{parentName:"p",href:"../../guides/develop/#authorization-with-oauth-20"},"user authorization with OAuth 2.0 use case"),". Be sure to check out the ",(0,r.mdx)("a",{parentName:"p",href:"../../samples.md"},"code samples")," as well for more extensive examples of using this workflow."),(0,r.mdx)("h2",{id:"methods"},"Methods"),(0,r.mdx)("h3",{id:"authorize"},"authorize()"),(0,r.mdx)("p",null,"Authorize a user using OAuth 2.0 PKCE workflow."),(0,r.mdx)("h4",{id:"parameters"},"Parameters"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Name"),(0,r.mdx)("th",{parentName:"tr",align:null},"Type"),(0,r.mdx)("th",{parentName:"tr",align:"right"},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"request")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"object")),(0,r.mdx)("td",{parentName:"tr",align:"right"},"Payload with parameters to be used in the authorization workflow.")))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Authorization Request Object Format")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"authorizationUrl"),": OAuth provider's authorization URL."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"clientId"),": Client identifier of the application created at the OAuth provider."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"scope"),": Scope to control the application's access."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"codeChallenge"),": Code challenge used in Authorization Code Exchange."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"additionalParameters?: Map<string, string>"),": Additional parameters, specific to an OAuth provider which are required in the Authorization URL as query string parameters.")),(0,r.mdx)("h4",{id:"return-value"},"Return Value"),(0,r.mdx)("p",null,"Authorization response object containing a one-time authorization code which can be used to obtain an access token."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Authorization Response Object Format"),"\n",(0,r.mdx)("inlineCode",{parentName:"p"},"id"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"string")," - Unique identifier for the authorization request.\n",(0,r.mdx)("inlineCode",{parentName:"p"},"code"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"string")," - OAuth 2.0 generated authorization code which can be used once to obtain an access token and a refresh token.\n",(0,r.mdx)("inlineCode",{parentName:"p"},"redirectUri"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"string")," - URL where the user is redirected to after authorization. This is the default URL owned by Adobe and it is this URL which needs to be used to obtain access_token.\n",(0,r.mdx)("inlineCode",{parentName:"p"},"result"),": ",(0,r.mdx)("inlineCode",{parentName:"p"},"string | object")," - Authorization result which denotes either success or failure. In the event of a ",(0,r.mdx)("inlineCode",{parentName:"p"},"FAILED")," status reported by the OAuth provider during authorization, the value of this property is an ",(0,r.mdx)("inlineCode",{parentName:"p"},"object"),", in the form of ",(0,r.mdx)("inlineCode",{parentName:"p"},'\\{ [failure_title]: \\"failure_description\\" \\}'),", and for all other statuses the value of ",(0,r.mdx)("inlineCode",{parentName:"p"},"description")," is a ",(0,r.mdx)("inlineCode",{parentName:"p"},"string"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Valid ",(0,r.mdx)("inlineCode",{parentName:"strong"},"status")," values:")," "),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"SUCCESS"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_OPENED"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_BLOCKED"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_TIMEOUT"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"FAILED"'))),(0,r.mdx)("h3",{id:"authorizewithownredirect"},"authorizeWithOwnRedirect()"),(0,r.mdx)("p",null,"Initiate the OAuth 2.0 PKCE authorization workflow by opening the user sign-in window. After authorization, the user is redirected to the add-on developer provided URL.     "),(0,r.mdx)("h4",{id:"parameters-1"},"Parameters"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Name"),(0,r.mdx)("th",{parentName:"tr",align:null},"Type"),(0,r.mdx)("th",{parentName:"tr",align:"right"},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"request")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"object")),(0,r.mdx)("td",{parentName:"tr",align:"right"},"Payload with parameters to be used in the authorization workflow.")))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Authorization Request Object Format")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"authorizationUrl"),": OAuth provider's authorization URL."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"clientId"),": Client identifier of the application created at the OAuth provider."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"scope"),": Scope to control the application's access."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"codeChallenge"),": Code challenge used in Authorization Code Exchange."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"additionalParameters?: Map<string, string>"),": Additional parameters, specific to an OAuth provider which are required in the Authorization URL as query string parameters."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"redirectUri"),": URL where the user is redirected to after successful or failed authorization. Hosting and handling redirects to this URL should be managed by the caller."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"state"),":  A value which is preserved in the authorization request, and replayed back as a query string parameter in the ",(0,r.mdx)("inlineCode",{parentName:"li"},"redirectUri"),". Although the primary reason for using the state parameter is to mitigate CSRF attacks, it can also be used to encode any other information.")),(0,r.mdx)("h4",{id:"return-value-1"},"Return Value"),(0,r.mdx)("p",null,"A resolved promise with the authorization result object which contains a ",(0,r.mdx)("inlineCode",{parentName:"p"},"status")," and a ",(0,r.mdx)("inlineCode",{parentName:"p"},"description")," which will be either a ",(0,r.mdx)("inlineCode",{parentName:"p"},"string")," or an ",(0,r.mdx)("inlineCode",{parentName:"p"},"object"),". In the event of a ",(0,r.mdx)("inlineCode",{parentName:"p"},"FAILED")," status reported by the OAuth provider during authorization, the value of this property is an ",(0,r.mdx)("inlineCode",{parentName:"p"},"object"),", in the form of ",(0,r.mdx)("inlineCode",{parentName:"p"},'\\{ [failure_title]: \\"failure_description\\" \\}'),", and for all other statuses the value of ",(0,r.mdx)("inlineCode",{parentName:"p"},"description")," is a ",(0,r.mdx)("inlineCode",{parentName:"p"},"string"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Valid ",(0,r.mdx)("inlineCode",{parentName:"strong"},"status")," values:")," "),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"SUCCESS"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_OPENED"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_BLOCKED"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"POPUP_TIMEOUT"')),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'"FAILED"'))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-references-addonsdk-app-oauth-md-a09997a5e2c365853a84.js.map