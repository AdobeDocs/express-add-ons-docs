{"version":3,"file":"component---src-pages-references-document-sandbox-communication-index-md-691e1e45c9d9ef2c4cc0.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./src/pages/references/document-sandbox/communication/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/github/workspace/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"communication-apis\"\n    }}>{`Communication APIs`}</h1>\n    <p>{`The communication APIs allow you to communicate between the document model sandbox (referred to as simply \"document sandbox\" throughout the rest of this guide), and the iframe where your add-on is running specifically, via the add-on SDK methods available for the document sandbox.`}</p>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`The document sandbox and iframe runtime are two different runtime execution environments which are present on different threads in the browser. The communication APIs are based on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/GoogleChromeLabs/comlink\"\n      }}>{`Comlink library`}</a>{` and provide a mechanism to allow the JavaScript code executing in each to interact. Developers can call the apis exposed in one environment (ie: document sandbox) from another environment (ie: iframe where their add-on is running) bidirectionally.`}</p>\n    <h2 {...{\n      \"id\": \"accessing-the-apis\"\n    }}>{`Accessing the APIs`}</h2>\n    <p>{`A default exported module from `}<inlineCode parentName=\"p\">{`addOnSandboxSdk`}</inlineCode>{` is provided to enable the communication between the iframe and the document sandbox via its' `}<inlineCode parentName=\"p\">{`instance.runtime`}</inlineCode>{` object. You can simply import the module into your script file code for use, and create a reference to the `}<inlineCode parentName=\"p\">{`runtime`}</inlineCode>{` object. For instance:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\"; // a default import\n\nconst { runtime } = addOnSandboxSdk.instance; // runtime object provides direct access to the communication APIs\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"examples\"\n    }}>{`Examples`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`runtime`}</inlineCode>{` object can then be used to access the communication methods which allow you to communicate between the two execution environments: `}<inlineCode parentName=\"p\">{`exposeApi()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`apiProxy()`}</inlineCode>{`. The examples below show the methods in use from both the `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{` where the iframe is running with your add-on code, and the document sandbox environment running the contents of `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"expose-apis-from-the-script\"\n    }}>{`Expose APIs from the script`}</h3>\n    <p>{`This example shows how to expose APIs from the document sandbox SDK (via `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{`) for use by the UI (via `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{`).`}</p>\n    <h4 {...{\n      \"id\": \"codejs\"\n    }}><inlineCode parentName=\"h4\">{`code.js`}</inlineCode></h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\"; \n\nconst { runtime } = addOnSandboxSdk.instance; \n\nconst sandboxApi = {\n    performWorkOnDocument: function (data, someFlag) {\n        // call the Document APIs\n    },\n    getDataFromDocument: function () {\n        // get some data from document\n    },\n};\n// expose these apis to be directly consumed in the UI (ie: index.html file).\nruntime.exposeApi(sandboxApi);\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"indexhtml\"\n    }}>{`index.html`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnUISdk from \"https://new.express.adobe.com/static/add-on-sdk/sdk.js\";\n\naddOnUISdk.ready.then(async () => {\n    const { runtime } = addOnUISdk.instance;\n\n    // Wait for the promise to resolve to get a proxy to call APIs defined in the document sandbox\n    const sandboxProxy = await runtime.apiProxy(\"documentSandbox\");\n\n    await sandboxProxy.performWorkOnDocument(\n        {\n            pageNumber: 1,\n            op: \"change_background_color\",\n            data: {\n                toColor: \"blue\",\n            },\n        }, \n        true\n    );\n\n    console.log(await sandboxProxy.getDataFromDocument());\n});\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"expose-apis-from-the-ui\"\n    }}>{`Expose APIs from the UI`}</h3>\n    <p>{`This example shows how to expose APIs from the UI (via `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{`) for use in the document sandbox (via `}<inlineCode parentName=\"p\">{`code.js`}</inlineCode>{`).`}</p>\n    <h4 {...{\n      \"id\": \"indexhtml-1\"\n    }}><inlineCode parentName=\"h4\">{`index.html`}</inlineCode></h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`addOnUISdk.ready.then(async () => {\n    console.log(\"addOnUISdk is ready for use.\");\n\n    const { runtime } = addOnUISdk.instance;\n    const uiApi = {\n        performWorkOnUI: function (data, someFlag) {\n            // Do some ui operation\n        },\n        getDataFromUI: async function() {\n            return new Promise(resolve => {\n                // Example of returning a user choice from hypothetical UI\n                resolve(\"button_color_blue\");\n            });\n        }\n    };\n    // Expose the UI Apis to be used in the script code (ie: code.js)\n    runtime.exposeApi(uiApi);\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"codejs-1\"\n    }}><inlineCode parentName=\"h4\">{`code.js`}</inlineCode></h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import addOnSandboxSdk from \"add-on-sdk-document-sandbox\"; // default import\n\nconst { runtime } = addOnSandboxSdk.instance;\n\nasync function callUIApis() {\n    // Get a proxy to the APIs defined in the UI\n    const uiApis = await runtime.apiProxy(\"panel\");\n    await uiApis.performWorkOnUI(\n        {\n            buttonTextFont: 20,\n            buttonColor: \"Green\"\n        },\n        true\n    );\n    \n    const result = await uiApis.getDataFromUI();\n    console.log(\"Data from UI: \" + result);\n}\n`}</code></pre>\n    <InlineAlert slots=\"text\" variant=\"info\" mdxType=\"InlineAlert\" />\n    <p><strong parentName=\"p\">{`DEBUGGING:`}</strong>{` Since the script code runs in a separate context from your add-on UI, the only support for debugging is via the `}<inlineCode parentName=\"p\">{`console.*`}</inlineCode>{` methods.`}</p>\n    <h2 {...{\n      \"id\": \"data-types\"\n    }}>{`Data Types`}</h2>\n    <p>{`Data type validation is performed for both the arguments and the return types that are exchanged across the document sandbox runtimes (aka: communication API layer). A whitelist of supported data types is maintained and detailed below. All other data types will be rejected.`}</p>\n    <h3 {...{\n      \"id\": \"supported-data-types\"\n    }}>{`Supported data types`}</h3>\n    <br />\n    <table className=\"spectrum-Table spectrum-Table--sizeM\" css=\"\n    background-color:lavender;\n    tbody {\n      background-color:white;\n    }\">\n      <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-headCell\"><p><strong>Type</strong></p></td>\n    <td className=\"spectrum-Table-headCell\"><p><strong>Examples</strong></p></td>\n      </tr>\n      <tbody className=\"spectrum-Table-body\">\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Primitive types:</strong> <br /> &nbsp;&nbsp;- string <br />  &nbsp;&nbsp;- boolean <br /> &nbsp;&nbsp;- number <br /> &nbsp;&nbsp;- Undefined<br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre><br />\"hello\"<br />true<br />1<br />undefined</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Simple plain objects</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>&#123; data: \"world\" &#125;, &#123; value : true &#125;</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Arrays of primitive and plain objects</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>[1,2],[\"hello\", true, &#123; data: null &#125;]</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>ArrayBuffer</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new ArrayBuffer(1024)</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Blob</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Blob()</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Error</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Error()</pre></p></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Some data types are not supported and may result unintended behavior. To avoid this, the type of argument/return type in the communication layer is checked and an error is thrown if not supported.`}</p>\n    <h3 {...{\n      \"id\": \"unsupported-data-types\"\n    }}>{`Unsupported data types`}</h3>\n    <br />\n    <table className=\"spectrum-Table spectrum-Table--sizeM\" css=\"\n    background-color:lavender;\n    tbody {\n      background-color:white;\n    }\">\n      <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-headCell\"><p><strong>Type</strong></p></td>\n    <td className=\"spectrum-Table-headCell\"><p><strong>Examples</strong></p></td>\n      </tr>\n      <tbody className=\"spectrum-Table-body\">\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Map</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Map()</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Set</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Set()</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>DataView() </strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new DataView(new ArrayBuffer(8))</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Boolean</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Boolean()</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>String</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new String(“hello”)</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>RegExp</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new RegExp(\"pattern\")</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Symbol</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>Symbol('symbol')</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Date</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new Date()</pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>UserDefinedClass</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>new UserDefinedClass() </pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Function</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>() => &#123;&#125; </pre></p></td>\n        </tr>\n        <tr className=\"spectrum-Table-row\">\n    <td className=\"spectrum-Table-cell\"><p><strong>Circular objects</strong> <br /></p></td>\n    <td className=\"spectrum-Table-cell\"><p><pre>const obj = &#123;&#125; obj.key = obj;</pre></p></td>\n        </tr>\n      </tbody>\n    </table>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","mdx","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","_extends","mdxType","parentName","slots","variant","className","css","isMDXComponent"],"sourceRoot":""}