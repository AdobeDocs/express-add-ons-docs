"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[4163],{47350:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return d},default:function(){return u}});var t=a(87462),o=a(45987),s=(a(15007),a(64983)),i=a(91515);const r=["components"],d={},m=(c="InlineAlert",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.mdx)("div",e)});var c;const p={_frontmatter:d},l=i.Z;function u(e){let{components:n}=e,a=(0,o.Z)(e,r);return(0,s.mdx)(l,(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"performance-tips-and-techniques"},"Performance Tips and Techniques"),(0,s.mdx)("p",null,"This page covers a list of tips for optimizing your code to help you build high-performance add-ons."),(0,s.mdx)("h2",{id:"javascript-performance-tips"},"JavaScript Performance Tips"),(0,s.mdx)("h3",{id:"use-asynchronous-programming"},"Use asynchronous programming"),(0,s.mdx)("p",null,"Use asynchronous programming techniques like callbacks, promises, and async/await to avoid blocking the main thread and improve performance. An example of each approach is given below:"),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"1. Asynchronous programming using callbacks"),(0,s.mdx)("br",null),"\nCallbacks are the simplest form of asynchronous programming in JavaScript. Instead of waiting for a function to complete, you pass a callback function to the function that will be called when the operation is complete."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-js"},"function fetchData(callback) {  \n  // perform some asynchronous operation  \n  // ...  \n  // call the callback function with the result  \n  callback(result);  \n}  \n  \n// call the function with a callback  \nfetchData(function(result) {  \n  // handle the result  \n});  \n")),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"2. Asynchronous programming using promises"),(0,s.mdx)("br",null),"\nPromises are a more powerful form of asynchronous programming that allow you to chain operations and handle errors more easily."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-js"},"function fetchData() {  \n  return new Promise(function(resolve, reject) {  \n    // perform some asynchronous operation  \n    // ...  \n    // resolve the promise with the result  \n    resolve(result);  \n    // or reject the promise with an error  \n    reject(error);  \n  });  \n}  \n  \n// call the function and handle the result with a promise  \nfetchData().then(function(result) {  \n  // handle the result  \n}).catch(function(error) {  \n  // handle the error  \n});  \n")),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"3. Asynchronous programming using async/await"),(0,s.mdx)("br",null),"\nAsync/await is a newer feature in JavaScript that allows you to write asynchronous code that looks like synchronous code. For example:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-js"},"async function fetchData() {  \n  // perform some asynchronous operation  \n  // ...  \n  // return the result  \n  return result;  \n}  \n  \n// call the function and handle the result with async/await  \nasync function handleData() {  \n  try {  \n    var result = await fetchData();  \n    // handle the result  \n  } catch (error) {  \n    // handle the error  \n  }  \n}  \n")),(0,s.mdx)(m,{slots:"text",variant:"success",mdxType:"InlineAlert"}),(0,s.mdx)("p",null,"Asynchronous programming can be more complex than synchronous programming, and requires careful handling of errors and callbacks. However, it can greatly improve the performance and responsiveness of your JavaScript code, and is the recommended practice for developers building add-ons."),(0,s.mdx)("h3",{id:"cache-frequently-accessed-data"},"Cache frequently accessed data"),(0,s.mdx)("p",null,"Cache frequently accessed data to reduce the number of times it needs to be computed."),(0,s.mdx)("h3",{id:"use-efficient-data-structures"},"Use efficient data structures"),(0,s.mdx)("p",null,"Use efficient data structures like ",(0,s.mdx)("inlineCode",{parentName:"p"},"maps")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"sets")," instead of arrays for faster access and better performance."),(0,s.mdx)("h3",{id:"minimize-dom-manipulation"},"Minimize DOM manipulation"),(0,s.mdx)("p",null,"Accessing and manipulating the DOM is one of the slowest operations in JavaScript. Minimize DOM manipulation by grouping DOM changes together and using techniques like document fragments or virtual DOM."),(0,s.mdx)("h3",{id:"use-event-delegation"},"Use event delegation"),(0,s.mdx)("p",null,"Instead of attaching an event listener to every element, use event delegation to attach a single event listener to a parent element and handle events for all its child elements."),(0,s.mdx)("h3",{id:"optimize-loops"},"Optimize loops"),(0,s.mdx)("p",null,"Optimize loops by minimizing the number of times you access an array's length property, using ",(0,s.mdx)("inlineCode",{parentName:"p"},"while")," loops instead of ",(0,s.mdx)("inlineCode",{parentName:"p"},"for")," loops, and breaking out of loops early when possible."),(0,s.mdx)("h3",{id:"use-lazy-loading"},"Use lazy loading"),(0,s.mdx)("p",null,"Use lazy loading to load resources only when they are needed, reducing initial page load time."),(0,s.mdx)("h3",{id:"minimize-the-use-of-global-variables"},"Minimize the use of global variables"),(0,s.mdx)("p",null,"Minimize the use of global variables to reduce the risk of naming collisions and improve performance."),(0,s.mdx)("h3",{id:"reduce-http-requests"},"Reduce HTTP requests"),(0,s.mdx)("p",null,"Minimize the number of HTTP requests by combining multiple files into one, using image sprites, or using data URLs for small images."),(0,s.mdx)("h2",{id:"react-performance-tips"},"React Performance Tips"),(0,s.mdx)("p",null,"This section outlines some performance tips for writing React code."),(0,s.mdx)("h3",{id:"use-the-virtual-dom"},"Use the virtual DOM"),(0,s.mdx)("p",null,"React uses a virtual DOM to minimize the number of updates needed to render changes to the user interface. Make sure to use React's built-in components and lifecycle methods to take advantage of this feature."),(0,s.mdx)("h3",{id:"minimize-component-updates"},"Minimize component updates"),(0,s.mdx)("p",null,"Minimize component updates by using ",(0,s.mdx)("inlineCode",{parentName:"p"},"shouldComponentUpdate()")," or ",(0,s.mdx)("inlineCode",{parentName:"p"},"React.memo()")," to prevent unnecessary re-renders of components."),(0,s.mdx)("h3",{id:"avoid-unnecessary-state-changes"},"Avoid unnecessary state changes"),(0,s.mdx)("p",null,"Avoid unnecessary state changes by only updating state when necessary and using setState() correctly."),(0,s.mdx)("h3",{id:"use-purecomponent"},"Use ",(0,s.mdx)("inlineCode",{parentName:"h3"},"PureComponent")),(0,s.mdx)("p",null,"Use ",(0,s.mdx)("a",{parentName:"p",href:"https://react.dev/reference/react/PureComponent"},(0,s.mdx)("inlineCode",{parentName:"a"},"PureComponent"))," instead of regular components to automatically implement ",(0,s.mdx)("inlineCode",{parentName:"p"},"shouldComponentUpdate()")," and improve performance."),(0,s.mdx)("h3",{id:"use-keys-for-lists"},"Use keys for lists"),(0,s.mdx)("p",null,"Use keys for lists to help React identify which items have changed and minimize unnecessary re-renders."),(0,s.mdx)("h3",{id:"use-lazy-loading-1"},"Use lazy loading"),(0,s.mdx)("p",null,"Use lazy loading to load components or resources only when they are needed, reducing the initial page load time."),(0,s.mdx)("h3",{id:"avoid-excessive-looping"},"Avoid excessive looping"),(0,s.mdx)("p",null,"Avoid excessive looping by using techniques like ",(0,s.mdx)("inlineCode",{parentName:"p"},"map"),", ",(0,s.mdx)("inlineCode",{parentName:"p"},"filter"),", and ",(0,s.mdx)("inlineCode",{parentName:"p"},"reduce"),"."),(0,s.mdx)("h3",{id:"use-memoization"},"Use memoization"),(0,s.mdx)("p",null,"Use memoization to cache the results of expensive calculations or functions and avoid unnecessary re-computation."),(0,s.mdx)("h3",{id:"use-react-profiler"},"Use React Profiler"),(0,s.mdx)("p",null,"Use ",(0,s.mdx)("a",{parentName:"p",href:"https://react.dev/reference/react/Profiler"},"React Profiler")," to identify performance bottlenecks in your code and optimize them."),(0,s.mdx)("h3",{id:"use-code-splitting"},"Use code splitting"),(0,s.mdx)("p",null,"Use code splitting to split your code into smaller chunks and load only the necessary code for a given page or component."),(0,s.mdx)("h3",{id:"avoid-unnecessary-props"},"Avoid unnecessary ",(0,s.mdx)("inlineCode",{parentName:"h3"},"props")),(0,s.mdx)("p",null,"Avoid unnecessary ",(0,s.mdx)("inlineCode",{parentName:"p"},"props")," by passing only those necessary to child components, and use destructuring to avoid passing unnecessary data."),(0,s.mdx)("p",null,"By following these tips, you can optimize your React code and improve its performance. Remember to test and measure the performance of your code to identify areas for optimization."),(0,s.mdx)("h2",{id:"performance-testing"},"Performance Testing"),(0,s.mdx)("p",null,"Be sure to test your add-on code and measure its performance to identify areas for optimization and ensure that your changes have a positive impact on performance. There are several ways to measure the performance of your JavaScript code, some are listed below for reference:"),(0,s.mdx)("h3",{id:"consoletime-and-consoletimeend"},(0,s.mdx)("inlineCode",{parentName:"h3"},"console.time()")," and ",(0,s.mdx)("inlineCode",{parentName:"h3"},"console.timeEnd()")),(0,s.mdx)("p",null,"Use the ",(0,s.mdx)("inlineCode",{parentName:"p"},"console.time()")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"console.timeEnd()")," methods to measure the time it takes for a block of code to execute."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-js"},"console.time('myFunction');  \nmyFunction();  \nconsole.timeEnd('myFunction');  \n")),(0,s.mdx)("h3",{id:"performancenow"},(0,s.mdx)("inlineCode",{parentName:"h3"},"performance.now()")),(0,s.mdx)("p",null,"Use the ",(0,s.mdx)("inlineCode",{parentName:"p"},"performance.now()")," method to measure the time it takes for a block of code to execute with high precision."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-js"},"const t0 = performance.now();  \nmyFunction();  \nconst t1 = performance.now();  \nconsole.log(`myFunction took ${t1 - t0} milliseconds.`);  \n")),(0,s.mdx)("h3",{id:"chrome-devtools"},"Chrome DevTools"),(0,s.mdx)("p",null,"Use the performance profiler in Chrome DevTools to identify performance bottlenecks in your code. The profiler can show you a detailed breakdown of the time spent in each function, as well as information about memory consumption."),(0,s.mdx)("h4",{id:"task-manager"},"Task Manager"),(0,s.mdx)("p",null,"The Chrome Task Manager displays the CPU, memory, and network usage of each open tab and plug-in, and allows you to kill an individual process similar to the Windows Task Manager or MacOS Activity Monitor. To open the Task Manager, go to the Chrome triple dot menu -> ",(0,s.mdx)("strong",{parentName:"p"},"More Tools")," -> ",(0,s.mdx)("strong",{parentName:"p"},"Task Manager"),":"),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,s.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.74999999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,s.mdx)("picture",{parentName:"span"},"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/5530d/menu_task_mgr.webp 320w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/0c8fb/menu_task_mgr.webp 640w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/94b1e/menu_task_mgr.webp 1280w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/0b34d/menu_task_mgr.webp 1920w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/d5269/menu_task_mgr.webp 2560w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/a510e/menu_task_mgr.webp 3118w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/dd4a7/menu_task_mgr.png 320w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/0f09e/menu_task_mgr.png 640w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/bbbf7/menu_task_mgr.png 1280w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/ac7a9/menu_task_mgr.png 1920w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/c7a69/menu_task_mgr.png 2560w","/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/6b6a9/menu_task_mgr.png 3118w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,s.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/express-add-ons-docs/static/efd2172a4cf3ca9f44406de9597f5e63/bbbf7/menu_task_mgr.png",alt:"Task Manager",title:"Task Manager",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,s.mdx)("p",null,"There you can locate the memory consumption of the OS process spawned specifically for the add-on iframe, like below:"),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,s.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.31250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,s.mdx)("picture",{parentName:"span"},"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/5530d/task-mgr.webp 320w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/0c8fb/task-mgr.webp 640w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/94b1e/task-mgr.webp 1280w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/57d79/task-mgr.webp 1906w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/dd4a7/task-mgr.png 320w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/0f09e/task-mgr.png 640w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/bbbf7/task-mgr.png 1280w","/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/bab36/task-mgr.png 1906w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,s.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/express-add-ons-docs/static/90ae8edb6c7bcd8ee7258cf51b8c83b2/bbbf7/task-mgr.png",alt:"Task Manager",title:"Task Manager",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,s.mdx)("h4",{id:"memory-consumption-monitoring"},"Memory Consumption Monitoring"),(0,s.mdx)("p",null,"The Chrome ",(0,s.mdx)("strong",{parentName:"p"},"Memory")," tab can be used to help solve memory issues, including debugging of JavaScript memory leaks. You can also use it to see the memory consumption of the JavaScript context created by the add-on iframe specifically, as shown below:"),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,s.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.81250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,s.mdx)("picture",{parentName:"span"},"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/5530d/memory-consumption.webp 320w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/0c8fb/memory-consumption.webp 640w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/94b1e/memory-consumption.webp 1280w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/0b34d/memory-consumption.webp 1920w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/d5269/memory-consumption.webp 2560w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/9b0e9/memory-consumption.webp 2896w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/dd4a7/memory-consumption.png 320w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/0f09e/memory-consumption.png 640w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/bbbf7/memory-consumption.png 1280w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/ac7a9/memory-consumption.png 1920w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/c7a69/memory-consumption.png 2560w","/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/7e21f/memory-consumption.png 2896w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,s.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/express-add-ons-docs/static/01b3952925edb9d95f4c13cf98d2fa5f/bbbf7/memory-consumption.png",alt:"Memory Consumption",title:"Memory Consumption",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,s.mdx)("h3",{id:"lighthouse"},"Lighthouse"),(0,s.mdx)("p",null,"Use ",(0,s.mdx)("a",{parentName:"p",href:"https://developer.chrome.com/docs/lighthouse/overview/"},"Lighthouse"),", an open-source tool from Google, to audit performance and identify areas for optimization while your add-on is loaded. Lighthouse can provide suggestions for improving page load time, reducing the size of resources, and optimizing JavaScript code."),(0,s.mdx)("h3",{id:"benchmarkjs"},"Benchmark.js"),(0,s.mdx)("p",null,"Use ",(0,s.mdx)("a",{parentName:"p",href:"https://benchmarkjs.com/"},"Benchmark.js")," to benchmark different implementations of a function or compare the performance of different libraries. Benchmark.js provides a simple and powerful way to measure the performance of your code in a standardized way."),(0,s.mdx)("p",null,"By measuring the performance of your JavaScript code, you can identify areas for optimization and ensure that your code is running efficiently. Use these techniques to test and optimize your code to achieve the best possible performance."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-develop-performance-md-24f1b564e12054c6b0b1.js.map