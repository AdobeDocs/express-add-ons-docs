{"version":3,"file":"component---src-pages-references-scriptruntime-index-md-c4be1f15af6a6da30912.js","mappings":"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","sources":["webpack://dev-site-documentation-template/./src/pages/references/scriptruntime/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/express-add-ons-docs/express-add-ons-docs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"script-runtime\"\n    }}>{`Script Runtime`}</h1>\n    <p>{`The script runtime is a sandboxed JavaScript execution environment based on `}<a parentName=\"p\" {...{\n        \"href\": \"https://bellard.org/quickjs/\"\n      }}>{`QuickJS`}</a>{` which allows to execute third-party JavaScript code securely and synchronously in another JavaScript environment.`}</p>\n    <InlineAlert slots=\"text\" variant=\"warning\" mdxType=\"InlineAlert\" />\n    <p>{`The script runtime references are currently `}<strong parentName=\"p\">{`experimental only`}</strong>{`, so you will need to set `}<inlineCode parentName=\"p\">{`experimentalApi`}</inlineCode>{` flag to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` in the `}<a parentName=\"p\" {...{\n        \"href\": \"../manifest/index.md#requirements\"\n      }}><inlineCode parentName=\"a\">{`requirements`}</inlineCode></a>{` section of the `}<inlineCode parentName=\"p\">{`manifest.json`}</inlineCode>{` to use them. `}<em parentName=\"p\">{`Please do not use these APIs in any add-ons you plan to distribute or submit with updates until they have been deemed stable.`}</em></p>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`The script runtime exposes three categories of APIs, which each have their own specific references and are outlined below.`}</p>\n    <h3 {...{\n      \"id\": \"communication-apis\"\n    }}>{`Communication APIs`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"./communication/\"\n      }}>{`communication APIs`}</a>{` allow you to communicate between the script runtime and the iframe runtime where your add-on is running via exposed APIs.  `}</p>\n    <h3 {...{\n      \"id\": \"common-apis\"\n    }}>{`Common APIs`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"./common/\"\n      }}>{`common APIs`}</a>{` are objects and functions injected by the script runtime to allow you the ability to access common utility functions in your JavaScript. `}</p>\n    <h3 {...{\n      \"id\": \"editor-apis\"\n    }}>{`Editor APIs`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"./editor/\"\n      }}>{`editor APIs`}</a>{` provide access to the user's document structure and properties, and allow you to make changes to it via high-level authoring APIs. `}</p>\n    <h2 {...{\n      \"id\": \"script-runtime-javascript-engine\"\n    }}>{`Script Runtime JavaScript Engine`}</h2>\n    <p>{`The script runtime is based on `}<a parentName=\"p\" {...{\n        \"href\": \"https://bellard.org/quickjs/\"\n      }}>{`QuickJS`}</a>{` and implements a subset of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://tc39.es/ecma262/\"\n      }}>{`ES2020 specification`}</a>{`. `}</p>\n    <p>{`Some key concepts to note about the script runtime include:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Limited access to browser APIs (see the `}<a parentName=\"li\" {...{\n          \"href\": \"./common/\"\n        }}>{`Common APIs`}</a>{` reference). Note however, you can use the `}<a parentName=\"li\" {...{\n          \"href\": \"./communication/\"\n        }}>{`communication APIs`}</a>{` to expose browser APIs (ie: `}<inlineCode parentName=\"li\">{`fetch`}</inlineCode>{`) from the iframe environment to be used in the script runtime.`}</li>\n      <li parentName=\"ul\">{`Runs in a slower execution environment.`}</li>\n      <li parentName=\"ul\">{`Provides no debugging capabilities other than those provided by the `}<a parentName=\"li\" {...{\n          \"href\": \"../common/index.md#injected-objects\"\n        }}>{`injected `}<inlineCode parentName=\"a\">{`console`}</inlineCode>{` functions`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`Runs in the same context/thread as the host's application business logic, (e.g. the authoring worker thread in Adobe Express), thus providing access to interact with it via the injected APIs.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"getting-started-with-the-apis\"\n    }}>{`Getting Started with the APIs`}</h2>\n    <p>{`The methods defined in the `}<a parentName=\"p\" {...{\n        \"href\": \"./communication/\"\n      }}>{`communication API reference`}</a>{` are used to expose and use the API proxies between the iframe and script environments of your add-on. Start with the `}<a parentName=\"p\" {...{\n        \"href\": \"./communication/\"\n      }}>{`communication reference`}</a>{` to learn more about how to expose APIs and use them from either  environment.`}</p>\n    <h3 {...{\n      \"id\": \"script-entry-point\"\n    }}>{`Script entry point`}</h3>\n    <p>{`To use the script runtime in your add-on, start by defining a new `}<inlineCode parentName=\"p\">{`script`}</inlineCode>{` entry point in your `}<inlineCode parentName=\"p\">{`manifest.json`}</inlineCode>{` file with the value set to the name of the file containing the JavaScript code you're using with the script runtime functions: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`    \"entryPoints\": [\n        {\n            \"type\": \"panel\",\n            \"id\": \"panel1\",\n            \"main\": \"index.html\",\n            \"script\": \"code.js\" \n        }\n    ]\n`}</code></pre>\n    <p>{`The JavaScript code in the file referenced can then access any of the injected global objects and module APIs defined in all of the APIs outlined in this set of references (`}<a parentName=\"p\" {...{\n        \"href\": \"./communication/\"\n      }}>{`communication APIs`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"./common/\"\n      }}>{`common APIs`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"./editor/\"\n      }}>{`editor APIs`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"code-samples\"\n    }}>{`Code Samples`}</h2>\n    <p>{`The following `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/script-runtime-samples\"\n      }}>{`code samples`}</a>{` have been provided to help you get started using these new script runtime APIs.`}</p>\n    <h3 {...{\n      \"id\": \"communication-iframe-script-runtime-sample\"\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/script-runtime-samples/communication-iframe-script-runtime\"\n      }}>{`communication-iframe-script-runtime sample`}</a></h3>\n    <p>{`Demonstrates the use of the communication APIs to expose and proxy APIs bidirectionally between the iframe and script runtime environments. Also includes demonstrating how to use some of the `}<a parentName=\"p\" {...{\n        \"href\": \"./common/\"\n      }}>{`common APIs`}</a>{` such as `}<inlineCode parentName=\"p\">{`setTimeout()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`console.log()`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"editor-apis-sample\"\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/script-runtime-samples/editor-apis\"\n      }}>{`editor-apis sample`}</a></h3>\n    <p>{`Demonstrates how to use the `}<a parentName=\"p\" {...{\n        \"href\": \"./editor/\"\n      }}>{`editor APIs`}</a>{` to create various shapes and add them to the document. `}</p>\n    <h3 {...{\n      \"id\": \"image-and-page-sample\"\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"https://github.com/AdobeDocs/express-add-on-samples/tree/main/script-runtime-samples/image-and-page\"\n      }}>{`image-and-page sample`}</a></h3>\n    <p>{`A more comprehensive example of using the `}<a parentName=\"p\" {...{\n        \"href\": \"./editor/\"\n      }}>{`editor APIs`}</a>{` to add a page, images and shapes, as well as clear the artboard.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","mdx","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutPropertiesLoose","_excluded","_extends","mdxType","parentName","slots","variant","isMDXComponent"],"sourceRoot":""}