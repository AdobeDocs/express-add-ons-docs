"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[8547],{33203:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return s},default:function(){return u}});var a=n(58168),o=n(80045),i=(n(88763),n(15680)),r=n(83407);const d=["components"],s={},m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",t)},l=m("ProductCard"),p=m("InlineAlert"),c={_frontmatter:s},h=r.A;function u(e){let{components:t}=e,n=(0,o.A)(e,d);return(0,i.mdx)(h,(0,a.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"developing-add-ons-with-lit-and-typescript"},"Developing add-ons with Lit and TypeScript"),(0,i.mdx)("h2",{id:"introduction"},"Introduction"),(0,i.mdx)(l,{slots:"icon, text, buttons",theme:"light",width:"50%",mdxType:"ProductCard"}),(0,i.mdx)("img",{src:"/express-add-ons-docs/assets/55ed59a6419a7162e08a744041290567/lit-logo.svg",alt:"lit-logo",width:"70px",height:"40px"}),(0,i.mdx)("p",null,"Lit is a simple library for building fast, lightweight web components. It's built on top of the Web Components standard and provides a set of tools and utilities to simplify the creation of custom elements. Lit uses modern web standards like JavaScript template literals and reactive properties to create reusable and efficient components with minimal boilerplate required."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/"},"Learn more"))),(0,i.mdx)(l,{slots:"icon, text, buttons",theme:"light",width:"50%",mdxType:"ProductCard"}),(0,i.mdx)("p",null,(0,i.mdx)("img",{parentName:"p",src:"/express-add-ons-docs/assets/bb0c891a452521ec84a2436931d83130/ts-logo-128.svg",alt:"typescript-logo"})),(0,i.mdx)("p",null,"TypeScript is a statically typed superset of JavaScript that adds optional static types to the language.TypeScript aims to improve the development experience by providing a robust type system, which helps catch errors early during development and enhances code quality and maintainability."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://https://www.typescriptlang.org/"},"Learn more"))),(0,i.mdx)("p",null,"When you develop add-ons with a combination of ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/"},"Lit")," and ",(0,i.mdx)("a",{parentName:"p",href:"https://https://www.typescriptlang.org/"},"TypeScript"),", you get the benefits of both worlds; a lightweight component library with reactive properties and templating capabilities, which help you build fast and efficient components, and the robust type system provided by TypeScript."),(0,i.mdx)("h2",{id:"lit-key-features"},"Lit Key Features"),(0,i.mdx)("h3",{id:"litelement-base-class"},(0,i.mdx)("inlineCode",{parentName:"h3"},"LitElement")," Base Class"),(0,i.mdx)("p",null,"Lit provides the ",(0,i.mdx)("inlineCode",{parentName:"p"},"LitElement")," base class for creating custom elements. It extends the standard ",(0,i.mdx)("inlineCode",{parentName:"p"},"HTMLElement")," and adds reactive properties and templating capabilities. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"LitElement")," class is important to understand when working with Lit, as it provides the foundation for building custom elements."),(0,i.mdx)(p,{slots:"text",variant:"info",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"Components must have dashes in their name to be valid custom elements. For example, ",(0,i.mdx)("inlineCode",{parentName:"p"},"my-component")," is a valid custom element name, while ",(0,i.mdx)("inlineCode",{parentName:"p"},"MyComponent")," is not."),(0,i.mdx)("h3",{id:"template-literals"},"Template Literals"),(0,i.mdx)("p",null,"A ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/docs/templates/overview/"},"template literal")," is a string literal that allows embedded expressions. It is enclosed in backticks (","`",") and can contain placeholders ",(0,i.mdx)("inlineCode",{parentName:"p"},"(${expression})")," for dynamic values. Template literals provide a more flexible and readable way to define strings compared to traditional string concatenation."),(0,i.mdx)("h3",{id:"decorators"},"Decorators"),(0,i.mdx)("p",null,"A ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/docs/components/decorators/"},(0,i.mdx)("em",{parentName:"a"},"decorator"))," is a certain type of declaration that can be attached to a class declaration. It is prefixed with an ",(0,i.mdx)("inlineCode",{parentName:"p"},"@")," symbol and can be used to modify the behavior of a class or its members. Some popular decorators in Lit include:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"@customElement"),": defines a custom element with a given tag name."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"@property"),": defines a reactive property that triggers a re-render when its value changes."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"@state"),": defines a local state property that triggers a re-render when its value changes. The difference between ",(0,i.mdx)("inlineCode",{parentName:"li"},"@state")," and ",(0,i.mdx)("inlineCode",{parentName:"li"},"@property")," is that ",(0,i.mdx)("inlineCode",{parentName:"li"},"@state")," properties are not exposed as custom element properties. It's useful for managing component-specific state that does not need to be shared with other components."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"@query"),": allows you to query for elements in the component's shadow DOM, for instance, to access a button element with the id ",(0,i.mdx)("inlineCode",{parentName:"li"},"myButton"),", you can use ",(0,i.mdx)("inlineCode",{parentName:"li"},"@query('#myButton') myButton: HTMLButtonElement;"),"."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"@eventOptions"),": allows you to specify event options like ",(0,i.mdx)("inlineCode",{parentName:"li"},"capture"),", ",(0,i.mdx)("inlineCode",{parentName:"li"},"once"),", and ",(0,i.mdx)("inlineCode",{parentName:"li"},"passive")," for event listeners. For example, ",(0,i.mdx)("inlineCode",{parentName:"li"},"@eventOptions({ capture: true }) handleClick() { ... }"),".")),(0,i.mdx)("h3",{id:"directives"},"Directives"),(0,i.mdx)("p",null,"A Lit ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/docs/templates/directives/"},(0,i.mdx)("em",{parentName:"a"},"directive"))," is a special kind of decorator that allows you to extend the template syntax with custom behavior. Some popular directives include:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"until"),": waits for a promise to resolve before rendering the content."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"repeat"),": repeats a template for each item in an array."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"ifDefined"),": conditionally renders content based on the value being defined."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"guard"),": prevents re-rendering if the value has not changed."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"cache"),": caches the result of an expression to improve performance."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"live"),": updates the DOM when a reactive property changes. It's useful when you need to trigger a side effect or update the DOM based on a property change that's not directly related to rendering the component."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"asyncReplace"),": asynchronously replaces the content of a template. This directive is useful when you need to fetch data asynchronously and update the template once the data is available."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"asyncAppend"),": asynchronously appends content to a template. This directive is useful when you need to fetch data asynchronously and append it to the template once the data is available."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"css"),": a directive that creates a CSS template from a template literal. This directive is used to define CSS styles for a component.")),(0,i.mdx)(p,{slots:"text",variant:"info",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"The difference between a directive and a decorator is that a directive is applied to a template, while a decorator is applied to a class or a class member."),(0,i.mdx)("h3",{id:"render-method"},(0,i.mdx)("inlineCode",{parentName:"h3"},"render")," Method"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"render")," method is defined as a template literal that returns the component's HTML structure. It uses the ",(0,i.mdx)("inlineCode",{parentName:"p"},"html")," function from the Lit package to create the template. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"render")," method is called whenever the component needs to be re-rendered, for instance, when a reactive property changes. Some methods that are commonly used in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"render")," method include:"),(0,i.mdx)("h3",{id:"reactive-properties"},"Reactive Properties"),(0,i.mdx)("p",null,"Lit uses ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/docs/components/properties/"},(0,i.mdx)("em",{parentName:"a"},"reactive properties"))," to automatically update the DOM when the state of your component changes. You define properties using decorators like ",(0,i.mdx)("inlineCode",{parentName:"p"},"@property"),". When a property changes, Lit automatically triggers a re-render of the component. This reactive behavior simplifies the process of managing state and updating the UI."),(0,i.mdx)("h2",{id:"typescript-key-features"},"TypeScript Key Features"),(0,i.mdx)("h3",{id:"static-typing"},"Static Typing"),(0,i.mdx)("p",null,"TypeScript allows you to ",(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/2/basic-types.html#static-type-checking"},"define types")," for variables, function parameters, and return values, which helps catch type-related errors at compile time."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'let message: string = "Hello, TypeScript!";\n')),(0,i.mdx)("h3",{id:"type-inference"},"Type Inference"),(0,i.mdx)("p",null,"TypeScript can automatically ",(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/type-inference.html#handbook-content"},"infer types")," based on the assigned values, reducing the need for explicit type annotations."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"let count = 42; // inferred as number\n")),(0,i.mdx)("h3",{id:"interfaces"},"Interfaces"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#interfaces"},"Interfaces")," define the shape of an object, specifying the properties and their types. They help enforce consistent object structures."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"interface User {\n  name: string;\n  age: number;\n}\n")),(0,i.mdx)("h3",{id:"classes"},"Classes"),(0,i.mdx)("p",null,"TypeScript supports object-oriented programming with ",(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/2/classes.html"},"classes"),", including features like inheritance, access modifiers, and decorators."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"class Person {\n  constructor(public name: string, public age: number) {}\n\n  greet() {\n    console.log(`Hello, my name is ${this.name}`);\n  }\n}\n")),(0,i.mdx)("h3",{id:"modules"},"Modules"),(0,i.mdx)("p",null,"TypeScript uses ",(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/2/modules.html"},"ES6 module syntax")," to organize code into reusable modules, making it easier to manage large codebases."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'// math.ts\nexport function add(a: number, b: number): number {\n  return a + b;\n}\n\n// main.ts\nimport { add } from "./math";\nconsole.log(add(2, 3));\n')),(0,i.mdx)("h3",{id:"generics"},"Generics"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/2/generics.html#handbook-content"},"Generics")," allow you to create reusable components that work with various types, providing flexibility and type safety."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"function identity<T>(arg: T): T {\n  return arg;\n}\n")),(0,i.mdx)("h2",{id:"add-on-project-anatomy"},"Add-on Project Anatomy"),(0,i.mdx)("p",null,"When you use the CLI to create an add-on based on Lit and TypeScript (ie: the ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/create-ccweb-add-on/tree/main/packages/create-ccweb-add-on/templates/swc-typescript/template"},(0,i.mdx)("inlineCode",{parentName:"a"},"swc-typescript"))," or ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/create-ccweb-add-on/tree/main/packages/create-ccweb-add-on/templates/swc-typescript-with-document-sandbox/template"},(0,i.mdx)("inlineCode",{parentName:"a"},"swc-typescript-with-document-sandbox"))," templates), the CLI generates a project structure that includes the necessary files and configurations to get you started quickly. For instance:"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"File/Folder"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/index.html")),(0,i.mdx)("td",{parentName:"tr",align:null},"The main HTML template that loads your add-on.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/index.ts")),(0,i.mdx)("td",{parentName:"tr",align:null},"The entry point for your add-on, where you define your Lit components.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/ui/components")),(0,i.mdx)("td",{parentName:"tr",align:null},"The directory where you define your Lit components.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/ui/components/App.ts")),(0,i.mdx)("td",{parentName:"tr",align:null},"The main application component that uses the Adobe Add-On UI SDK to interact with the document sandbox runtime.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/ui/components/App.css.ts")),(0,i.mdx)("td",{parentName:"tr",align:null},"The CSS styles for the main application component.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/models")),(0,i.mdx)("td",{parentName:"tr",align:null},"The directory where you define TypeScript interfaces for your add-on APIs.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/models/DocumentSandboxApi.ts")),(0,i.mdx)("td",{parentName:"tr",align:null},"The TypeScript interface for the APIs exposed by the document sandbox runtime.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/sandbox/code.ts")),(0,i.mdx)("td",{parentName:"tr",align:null},"The implementation of the document sandbox runtime.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"src/sandbox/tsconfig.json")),(0,i.mdx)("td",{parentName:"tr",align:null},"The TypeScript configuration file that specifies the compiler options for your project.")))),(0,i.mdx)("p",null,"A more in-depth description of the files and folders in the project structure is provided below."),(0,i.mdx)("h3",{id:"indexhtml"},"index.html"),(0,i.mdx)("p",null,"This is the main HTML file that serves as the entry point for the web application. It includes the custom element ",(0,i.mdx)("inlineCode",{parentName:"p"},"<add-on-root>"),", which is defined in ",(0,i.mdx)("inlineCode",{parentName:"p"},"index.ts"),"."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-html"},"<body>\n  <add-on-root></add-on-root>\n</body>\n")),(0,i.mdx)("h3",{id:"indexts"},"index.ts"),(0,i.mdx)("p",null,"This file defines the root custom element ",(0,i.mdx)("inlineCode",{parentName:"p"},"<add-on-root>")," using Lit. It initializes the Adobe Add-On UI SDK and renders the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<add-on-app>")," component once the SDK is ready."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import { LitElement, html } from "lit";\nimport { customElement, state } from "lit/decorators.js";\nimport { until } from "lit/directives/until.js";\nimport "./components/App";\n\nimport addOnUISdk from "https://express.adobe.com/static/add-on-sdk/sdk.js";\n\n@customElement("add-on-root") // Lit customElement decorator defines a custom element <add-on-root>.\nexport class Root extends LitElement {\n  @state()\n  private _isAddOnUISdkReady = addOnUISdk.ready;\n\n  // The render method returns an HTML template that uses the until\n  // directive to wait for the Add-On UI SDK to be ready. Once the\n  // SDK is ready, it renders the <add-on-app> component.\n  render() {\n    // This block is a template literal that returns an HTML template\n    // using the Lit html function. denoted by it being enclosed in\n    // backticks (`). Dynamic values are inserted using placeholders\n    // like (${expression}).\n    return html`\n      ${until(\n        // The until directive is used to wait for a promise\n        // to resolve before rendering the content.\n        this._isAddOnUISdkReady.then(async () => {\n          console.log("addOnUISdk is ready for use.");\n          return html`<add-on-app .addOnUISdk=${addOnUISdk}></add-on-app>`;\n        })\n      )}\n    `;\n  }\n}\n')),(0,i.mdx)("h3",{id:"appts"},"App.ts"),(0,i.mdx)("p",null,"Defines the main application component ",(0,i.mdx)("inlineCode",{parentName:"p"},"<add-on-app>")," using Lit. It uses the Adobe Add-On UI SDK to interact with the document sandbox runtime and provides a button to create a rectangle in the document."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import { LitElement, html } from "lit";\nimport { customElement, property, state } from "lit/decorators.js";\nimport { DocumentSandboxApi } from "../../models/DocumentSandboxApi";\nimport { style } from "./App.css";\n\nimport {\n  AddOnSDKAPI,\n  RuntimeType,\n} from "https://express.adobe.com/static/add-on-sdk/sdk.js";\n\n// The following line defines a custom element <add-on-app> using the Lit\n// customElement decorator.\n@customElement("add-on-app")\nexport class App extends LitElement {\n  @property({ type: Object })\n  addOnUISdk!: AddOnSDKAPI;\n\n  @state()\n  private _sandboxProxy: DocumentSandboxApi;\n\n  static get styles() {\n    return style;\n  }\n\n  async firstUpdated(): Promise<void> {\n    const { runtime } = this.addOnUISdk.instance;\n    this._sandboxProxy = await runtime.apiProxy(RuntimeType.documentSandbox);\n  }\n\n  private _handleClick() {\n    this._sandboxProxy.createRectangle();\n  }\n  // The render method returns an HTML template that uses the .container\n  // class defined in the CSS.\n  render() {\n    // This block is a template literal that returns an HTML template\n    // using the Lit html function. A template literal in Lit is\n    // enclosed in backticks (`) and can contain placeholders (${expression})\n    // for dynamic values.\n    return html` <sp-theme\n      system="express"\n      color="light"\n      scale="medium"\n    >\n      <div class="container">\n        <sp-button\n          size="m"\n          @click=${this._handleClick}\n          >Create Rectangle</sp-button\n        >\n      </div>\n    </sp-theme>`;\n  }\n}\n')),(0,i.mdx)("h3",{id:"appcssts"},"App.css.ts"),(0,i.mdx)("p",null,"Defines the CSS styles for the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<add-on-app>")," component using Lit's ",(0,i.mdx)("inlineCode",{parentName:"p"},"css")," tagged template literal."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import { css } from "lit"; // Import the css function from the lit package\n\n// The following block defines the CSS styles for the .container class\n// using the css tagged template literal. The styles are defined within\n// backticks (`) and are passed to the css function to create a CSSResult\n// object. A CSSResult object is a representation of CSS that can be applied\n// to a LitElement component.\nexport const style = css`\n  .container {\n    margin: 24px;\n    display: flex;\n    flex-direction: column;\n  }\n`;\n')),(0,i.mdx)("h3",{id:"documentsandboxapits"},"DocumentSandboxApi.ts"),(0,i.mdx)("p",null,"Defines the TypeScript interface for the APIs that the ",(0,i.mdx)("a",{parentName:"p",href:"../../../../references/document-sandbox/index.md"},"document sandbox runtime")," exposes to the UI runtime. Once you define an interface, any object that implements that interface must implement to the contract defined in the interface. The document sandbox runtime implements this interface in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"code.ts")," file."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"export interface DocumentSandboxApi {\n  //\n  createRectangle(): void;\n}\n")),(0,i.mdx)("h3",{id:"codets"},"code.ts"),(0,i.mdx)("p",null,"Contains the implementation of the document sandbox runtime. It defines the ",(0,i.mdx)("inlineCode",{parentName:"p"},"createRectangle")," function and exposes it to the UI runtime (ie: the code running in the iframe in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"ui")," folder)."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import addOnSandboxSdk from "add-on-sdk-document-sandbox";\nimport { editor } from "express-document-sdk";\n// Import the DocumentSandboxApi interface from the models folder\nimport { DocumentSandboxApi } from "../models/DocumentSandboxApi";\n\nconst { runtime } = addOnSandboxSdk.instance;\n\nfunction start(): void {\n  // The following block defines a sandboxApi object that implements the\n  // DocumentSandboxApi interface. Since it implements the interface, it\n  // must provide an implementation for the createRectangle function.\n  const sandboxApi: DocumentSandboxApi = {\n    createRectangle: () => {\n      const rectangle = editor.createRectangle();\n      rectangle.width = 240;\n      rectangle.height = 180;\n      rectangle.translation = { x: 10, y: 10 };\n      const color = { red: 0.32, green: 0.34, blue: 0.89, alpha: 1 };\n      const rectangleFill = editor.makeColorFill(color);\n      rectangle.fill = rectangleFill;\n      const insertionParent = editor.context.insertionParent;\n      insertionParent.children.append(rectangle);\n    },\n  };\n  const sandboxApi: DocumentSandboxApi = {\n    createRectangle: () => {\n      const rectangle = editor.createRectangle();\n      rectangle.width = 240;\n      rectangle.height = 180;\n      rectangle.translation = { x: 10, y: 10 };\n      const color = { red: 0.32, green: 0.34, blue: 0.89, alpha: 1 };\n      const rectangleFill = editor.makeColorFill(color);\n      rectangle.fill = rectangleFill;\n      const insertionParent = editor.context.insertionParent;\n      insertionParent.children.append(rectangle);\n    },\n  };\n\n  runtime.exposeApi(sandboxApi);\n}\n\nstart();\n')),(0,i.mdx)("h3",{id:"tsconfigjson"},"tsconfig.json"),(0,i.mdx)("p",null,"Specifies the TypeScript compiler options for your project. It includes settings like the target ECMAScript version, module format, and output directory."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions": {\n    "target": "ES2018",\n    "module": "ESNext",\n    "strict": true,\n    "outDir": "./dist"\n  },\n  "include": ["src/**/*"]\n}\n')),(0,i.mdx)("h2",{id:"create-a-new-lit-component"},"Create a New Lit Component"),(0,i.mdx)("p",null,"To create a new component using Lit and TypeScript, follow these steps:"),(0,i.mdx)("h4",{id:"step-1-create-a-new-typescript-file-in-the-srcuicomponents-directory"},"Step 1: Create a new TypeScript file in the ",(0,i.mdx)("inlineCode",{parentName:"h4"},"src/ui/components")," directory."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"touch src/ui/components/MyCustomButton.ts\n")),(0,i.mdx)("h4",{id:"step-2-define-a-new-class-that-extends-litelement-and-implements-your-component-logic"},"Step 2: Define a new class that extends ",(0,i.mdx)("inlineCode",{parentName:"h4"},"LitElement")," and implements your component logic."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import { LitElement, html } from "lit";\n// Import the customElement and state decorators from the lit package\nimport { customElement, state } from "lit/decorators.js";\n@customElement("my-custom-button") // Decorator defines my-custom-button\n\n// Define a custom LitElement component MyCustomButton that extends LitElement.\n// The code includes a state property message that holds the text to be\n// displayed and a render method that returns an HTML template. The template\n// includes a button element that triggers the handleClick method when clicked\n// and displays the message property value.\nexport class MyCustomButton extends LitElement {\n  @state()\n  private message = "Hello, Lit!";\n\n  render() {\n    return html`\n      <sp-button @click="${this.handleClick}">Send</sp-button>\n      <p>${this.message}</p>\n    `;\n  }\n\n  handleClick() {\n    this.message = "Custom Button Clicked!";\n  }\n}\n')),(0,i.mdx)("h4",{id:"step-2-import-the-component"},"Step 2: Import the Component"),(0,i.mdx)("p",null,"To use the new component in your application, import it in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"App.ts")," file and include it in the render method."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},'import { LitElement, html } from "lit";\nimport { customElement, property, state } from "lit/decorators.js";\n// Import the MyCustomButton component\nimport { MyCustomButton } from "./MyCustomButton";\n\n@customElement("add-on-app")\n// Now you can use the MyCustomButton component in the render method of\n// the App component. For instance in the block below:\nexport class App extends LitElement {\n    ...\n    render() {\n        return html` <sp-theme system="express" color="light" scale="medium">\n            <div class="container">\n                <sp-button size="m" @click=${this._handleClick}>Create Rectangle</sp-button>\n                <my-custom-button></my-custom-button>\n            </div>\n        </sp-theme>`;\n    }\n    ...\n}\n')),(0,i.mdx)("h2",{id:"faq"},"FAQ"),(0,i.mdx)("h4",{id:"q-what-are-the-main-benefits-of-using-lit-with-typescript-for-adobe-express-add-ons"},"Q: What are the main benefits of using Lit with TypeScript for Adobe Express add-ons?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," The combination provides:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Lightweight components"),": Lit creates fast, efficient web components with minimal overhead"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Type safety"),": TypeScript catches errors at compile time and improves code maintainability"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Modern standards"),": Built on web component standards for future-proof development"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Reactive properties"),": Automatic UI updates when component state changes"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Great developer experience"),": Excellent tooling, IntelliSense, and debugging support")),(0,i.mdx)("h4",{id:"q-do-i-need-to-know-web-components-to-use-lit"},"Q: Do I need to know web components to use Lit?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Not necessarily! Lit abstracts away much of the complexity of web components. You work with familiar concepts like classes, properties, and templates. However, understanding the basics of web components (custom elements, shadow DOM) can be helpful for advanced use cases."),(0,i.mdx)("h4",{id:"q-whats-the-difference-between-property-and-state-decorators"},"Q: What's the difference between ",(0,i.mdx)("inlineCode",{parentName:"h4"},"@property")," and ",(0,i.mdx)("inlineCode",{parentName:"h4"},"@state")," decorators?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},(0,i.mdx)("inlineCode",{parentName:"strong"},"@property")),": Creates a reactive property that's exposed as a custom element attribute. Use for data that comes from parent components or HTML attributes."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},(0,i.mdx)("inlineCode",{parentName:"strong"},"@state")),": Creates internal reactive state that's not exposed externally. Use for component-specific state that doesn't need to be shared with other components.")),(0,i.mdx)("h4",{id:"q-how-do-i-handle-events-in-lit-components"},"Q: How do I handle events in Lit components?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"@")," syntax in templates to bind event listeners:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"render() {\n  return html`<button @click=${this.handleClick}>Click me</button>`;\n}\n\nhandleClick(event: Event) {\n  // Handle the click event\n}\n")),(0,i.mdx)("h4",{id:"q-can-i-use-lit-components-with-other-frameworks-like-react"},"Q: Can I use Lit components with other frameworks like React?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Yes! Lit components are standard web components, so they work with any framework or vanilla JavaScript. However, some frameworks (like React) may need special handling for events and properties."),(0,i.mdx)("h4",{id:"q-how-do-i-style-lit-components"},"Q: How do I style Lit components?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"css")," tagged template literal and the ",(0,i.mdx)("inlineCode",{parentName:"p"},"styles")," static property:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"import { css } from 'lit';\n\nstatic styles = css`\n  :host {\n    display: block;\n    padding: 16px;\n  }\n  button {\n    background: blue;\n    color: white;\n  }\n`;\n")),(0,i.mdx)("h4",{id:"q-whats-the-render-method-and-when-is-it-called"},"Q: What's the ",(0,i.mdx)("inlineCode",{parentName:"h4"},"render()")," method and when is it called?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," The ",(0,i.mdx)("inlineCode",{parentName:"p"},"render()")," method defines your component's HTML template using the ",(0,i.mdx)("inlineCode",{parentName:"p"},"html")," tagged template literal. Lit automatically calls it when:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"The component is first created"),(0,i.mdx)("li",{parentName:"ul"},"Any reactive property (marked with ",(0,i.mdx)("inlineCode",{parentName:"li"},"@property")," or ",(0,i.mdx)("inlineCode",{parentName:"li"},"@state"),") changes"),(0,i.mdx)("li",{parentName:"ul"},"You manually call ",(0,i.mdx)("inlineCode",{parentName:"li"},"this.requestUpdate()"))),(0,i.mdx)("h4",{id:"q-how-do-i-query-for-elements-in-my-components-shadow-dom"},"Q: How do I query for elements in my component's shadow DOM?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"@query")," decorator:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"@query('#myButton')\nmyButton!: HTMLButtonElement;\n\n// Now you can access this.myButton in your methods\n")),(0,i.mdx)("h4",{id:"q-can-i-use-async-operations-in-lit-components"},"Q: Can I use async operations in Lit components?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," Yes! Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"until")," directive for promises and ",(0,i.mdx)("inlineCode",{parentName:"p"},"asyncReplace"),"/",(0,i.mdx)("inlineCode",{parentName:"p"},"asyncAppend")," for async iterables:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-typescript"},"render() {\n  return html`${until(this.fetchData(), html`Loading...`)}`;\n}\n")),(0,i.mdx)("h4",{id:"q-how-do-i-communicate-between-parent-and-child-lit-components"},"Q: How do I communicate between parent and child Lit components?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Parent to child"),": Pass data via properties"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Child to parent"),": Dispatch custom events using ",(0,i.mdx)("inlineCode",{parentName:"li"},"this.dispatchEvent(new CustomEvent('my-event', { detail: data }))"))),(0,i.mdx)("h4",{id:"q-what-typescript-configuration-works-best-with-lit"},"Q: What TypeScript configuration works best with Lit?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"A:")," The CLI-generated ",(0,i.mdx)("inlineCode",{parentName:"p"},"tsconfig.json")," is a good starting point. Key settings include:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},'"target": "ES2018"')," or higher for modern features"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},'"experimentalDecorators": true')," for decorator support"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},'"strict": true')," for better type checking")),(0,i.mdx)("h2",{id:"next-steps"},"Next Steps"),(0,i.mdx)("p",null,"Next, you can explore more advanced features of Lit and TypeScript to enhance your components. Some areas to explore include:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/docs/v1/components/events/"},(0,i.mdx)("strong",{parentName:"a"},"Event Handling")),": Learn how to handle events in Lit components and communicate between components."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/docs/composition/component-composition/"},(0,i.mdx)("strong",{parentName:"a"},"Component Composition")),": Explore how to compose multiple components together to create complex UIs."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/articles/lit-cheat-sheet/#data-flow-and-state-management"},(0,i.mdx)("strong",{parentName:"a"},"State Management")),": Implement state management solutions like Redux or MobX to manage the state of your components."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/docs/components/events/#optimizing-for-performance"},(0,i.mdx)("strong",{parentName:"a"},"Performance Optimization")),": Optimize your components for performance by using memoization, lazy loading, and other techniques."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://lit.dev/docs/tools/testing/"},(0,i.mdx)("strong",{parentName:"a"},"Testing")),": Write unit tests for your components using tools like Jest or Mocha to ensure their correctness and reliability.")),(0,i.mdx)("p",null,"Check out ",(0,i.mdx)("a",{parentName:"p",href:"https://lit.dev/articles/lit-cheat-sheet/#shadow-dom"},"this handy cheat sheet")," on properties and state for further reference throughout your development."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-learn-how-to-tutorials-using-lit-typescript-md-2fb8dc703275a0787cdc.js.map