"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7021],{20575:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return l},default:function(){return h}});var t,o=a(87462),d=a(63366),i=(a(15007),a(64983)),r=a(91515),s=["components"],l={},p=(t="CodeBlock",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),m={_frontmatter:l},c=r.Z;function h(e){var n=e.components,a=(0,d.Z)(e,s);return(0,i.mdx)(c,(0,o.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"api-overview"},"API Overview"),(0,i.mdx)("p",null,"This section covers the APIs available for developing your add-ons. Each section offers a simple example code snippet but we recommend checking out the ",(0,i.mdx)("a",{parentName:"p",href:"../develop/samples.md"},"code samples")," for more in-depth usage. "),(0,i.mdx)("p",null,"This page outlines the core objects used by the APIs and the variables you can use to access further functionality. "),(0,i.mdx)("h2",{id:"addonsdk"},"AddOnSdk"),(0,i.mdx)("p",null,"The first object you will need to be aware of when developing your add-ons is the ",(0,i.mdx)("strong",{parentName:"p"},"AddOnSdk")," object. The Add-on SDK is available as an ECMAScript 2015 Module hosted in a CDN."),(0,i.mdx)("p",null,"To use the SDK, simply include a link to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"sdk.js")," file in a script tag within the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<head>")," section of the page to ensure correct initialization of the add-on API environment."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-js"},'<script type="module">\n  import AddOnSdk from\n  "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n<\/script>\n')),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"AddOnSdk")," provides the following interface definition and exposes several variables listed below, and is also how you can determine when the APIs are ready to interact with."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"ready"),": Allows you to know you can start accessing the APIs. "),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"apiVersion"),": Current version of the SDK running."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"instance"),": the currently running add-on instance (see ",(0,i.mdx)("a",{parentName:"li",href:"#addon"},"AddOn Object"),"), allowing you to access the ",(0,i.mdx)("a",{parentName:"li",href:"#manifest"},"manifest.json")," details and a ",(0,i.mdx)("a",{parentName:"li",href:"#client-storage"},"Client Storage")," object, which allows you to locally persist to storage, per user and for this add-on."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"app"),": Provides access to the host application (Adobe Express). See the ",(0,i.mdx)("a",{parentName:"li",href:"#application"},(0,i.mdx)("inlineCode",{parentName:"a"},"Application"))," definition below for more details.")),(0,i.mdx)(p,{slots:"heading, code",repeat:"3",languages:"JavaScript",mdxType:"CodeBlock"}),(0,i.mdx)("h3",{id:"interface"},"Interface"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * The main API Interface exposed by the SDK to the consuming Add-on code.\n */\ninterface AddOnSdk {\n    /**\n     * Resolves when the SDK has made a successful connection to the host app.\n     * Indicates that APIs directly interacting with the host application are ready.\n     * Register a call back with @see Promise#then or await this promise.\n     */\n    readonly ready: Promise<void>;\n\n    \n    /**\n     * API version of the SDK.\n     */\n    readonly apiVersion: string;\n\n    /**\n     * Represents capabilities and events of the currently running Add-on Instance.\n     * The interface type depends on the type of the underlying Add-on.\n     */\n    readonly instance: AddOn;\n\n    /**\n     * Represents capabilities and events of the host application.\n     */\n    readonly app: Application;\n}\n")),(0,i.mdx)("h3",{id:"example"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-js"},'import AddOnSdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\nAddOnSdk.ready.then(() => {\n  console.log("API version", AddOnSdk.apiVersion);\n  console.log("Add-on instance object", JSON.stringify(AddOnSdk.instance));\n  console.log("Application object", JSON.stringify(AddOnSdk.app));  \n});\n')),(0,i.mdx)("h3",{id:"output"},"Output"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'API version 1\n\nAdd-on instance object {"manifest":{"testId":"08f4469f-7999-458b-9ef9-b1bd043cbdca","name":"Add On Api Sampler","version":"1.0.0","manifestVersion":2,"requirements":{"apps":[{"name":"Express","apiVersion":1}]},"entryPoints":[{"type":"panel","id":"panel1","main":"https://localhost:5241/08f4469f-7999-458b-9ef9-b1bd043cbdca/index.html"}]},"clientStorage":{}}\n\nApplication object {"ui":{"theme":"light","locale":"en-US","locales":["cy-GB","da-DK","de-DE","en-US","es-ES","fi-FI","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pt-BR","sv-SE","zh-Hans-CN","zh-Hant-TW","zz-ZZ"]},"oauth":{},"document":{}}\n')),(0,i.mdx)("h2",{id:"application"},"Application"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("a",{parentName:"p",href:"#AddOnSdk"},(0,i.mdx)("inlineCode",{parentName:"a"},"AddOnSdk"))," provides you with an ",(0,i.mdx)("inlineCode",{parentName:"p"},"app")," variable, which is of type ",(0,i.mdx)("inlineCode",{parentName:"p"},"Application"),", defined below, and allows you to access the following objects which are used throughout this reference:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"ui"),": Provides access to the ",(0,i.mdx)("a",{parentName:"li",href:"#theme"},"theme"),", ",(0,i.mdx)("a",{parentName:"li",href:"language-locale"},"locale and locales"),"."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"document"),": Provides access to the methods needed for ",(0,i.mdx)("a",{parentName:"li",href:"#import"},"adding an image or video")," the document and for ",(0,i.mdx)("a",{parentName:"li",href:"#export"},"creating a rendition")," for export."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"oauth"),": Provides access to the OAuth methods needed for use with the ",(0,i.mdx)("a",{parentName:"li",href:"oauth-20"},"OAuth API"),".")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * Interface that represents the underlying Application (Adobe Express).\n */\nexport interface Application {\n    /**\n     * Represents the UI of the app (Adobe Express). Provides access to theme, locale and locales.\n     */\n    readonly ui: UI;\n\n    /**\n     * Represents the active document and provides access to the methods needed for adding an image or video the document and creating a rendition (for export).\n     */\n    readonly document: Document;\n\n    /**\n     * OAuth 2.0 middleware for handling user authorization. Provides access to the OAuth methods needed to implement OAuth 2.0.\n     */\n    readonly oauth: OAuth;\n}\n")),(0,i.mdx)("h2",{id:"addon"},"AddOn"),(0,i.mdx)("p",null,"Represents the current add-on, providing references to ",(0,i.mdx)("inlineCode",{parentName:"p"},"manifest")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"clientStorage")," objects. "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-js"},"/**\n * Base interface for all type of add-ons\n */\nexport interface AddOn {\n    \n    /**\n     * Add-ons Manifest details - this maps to entries in the add-ons manifest.json file.\n     */\n    readonly manifest: Record<string, unknown>;\n\n    /**\n     * Local-persisted storage per user per addon.\n     */\n    readonly clientStorage: ClientStorage;\n}\n")))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-references-index-md-a5f4f4ff1664630486a7.js.map