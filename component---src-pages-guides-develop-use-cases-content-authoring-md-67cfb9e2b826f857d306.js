"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6222],{67882:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return i},default:function(){return g}});var a=n(58168),d=n(80045),o=(n(88763),n(15680)),s=n(83407);const r=["components"],i={},l=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",t)},m=l("InlineAlert"),c=l("CodeBlock"),p={_frontmatter:i},u=s.A;function g(e){let{components:t}=e,n=(0,d.A)(e,r);return(0,o.mdx)(u,(0,a.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"content-authoring-and-metadata"},"Content Authoring and Metadata"),(0,o.mdx)("h2",{id:"authoring-adobe-express-content"},"Authoring Adobe Express Content"),(0,o.mdx)("p",null,"We provide a set of ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/document-sandbox/document-apis/"},"Document APIs")," that can be used to interact with the document for common use cases like creating shapes, adding pages, clearing the artboard, and more."),(0,o.mdx)("p",null,"The following code snippet illustrates how to use the ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/document-sandbox/document-apis/"},"Document APIs")," from the script running in your ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/document-sandbox/index.md#getting-started-with-the-apis"},(0,o.mdx)("inlineCode",{parentName:"a"},"code.js")),"; for instance, to access the current document, create a rectangle, set some properties and a fill for the rectangle, and finally, add it to the document."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},'import { editor, colorUtils } from "express-document-sdk";\n\nconst insertionParent = editor.context.insertionParent; // get node to insert content into\n\nconst rectangle = editor.createRectangle();\nrectangle.width = 200;\nrectangle.height = 150;\nrectangle.translation = { x: 100, y: 20 };\nconsole.log(rectangle); // for debugging purpose\n\nconst [red, green, blue, alpha] = [0.8, 0.6, 0.2, 0.7];\n// Note: alpha param is optional\nconst aColor = colorUtils.fromRGB(red,green,blue,alpha)\n\nconst rectangleFill = editor.makeColorFill(aColor);\nrectangle.fill = rectangleFill;\n\ninsertionParent.children.append(rectangle);\n')),(0,o.mdx)(m,{slots:"text",variant:"info",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Refer to ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/document-sandbox/index.md#getting-started-with-the-apis"},"getting started with the Document Sandbox")," for more details on how to set up your add-on to use the script-based APIs, as well as ",(0,o.mdx)("a",{parentName:"p",href:"../../tutorials/grids-addon.md"},"this extensive tutorial")," provided to help you build your first add-on using the Document APIs."),(0,o.mdx)("h2",{id:"document-and-page-metadata"},"Document and Page Metadata"),(0,o.mdx)("p",null,"You can retrieve some information about the current document using the ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/addonsdk/app-document.md"},"Add-on UI SDK Document object"),". Currently, there are methods that allow you to retrieve the ID of the document and the title (i.e., name). Also, associated events will let you listen for when the document is available (via the ",(0,o.mdx)("inlineCode",{parentName:"p"},"documentAvailable")," event) and when the title has changed (via the ",(0,o.mdx)("inlineCode",{parentName:"p"},"documentTitleChange")," event). See the examples below."),(0,o.mdx)("h3",{id:"retrieving-the-document-id"},"Retrieving the Document ID"),(0,o.mdx)("p",null,"The example below listens for the ",(0,o.mdx)("inlineCode",{parentName:"p"},"documentAvailable")," event and then sets the id."),(0,o.mdx)("h4",{id:"example"},"Example"),(0,o.mdx)(c,{slots:"heading, code",repeat:"1",languages:"JavaScript",mdxType:"CodeBlock"}),(0,o.mdx)("h4",{id:"usage"},"Usage"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},'import addOnUISdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\nfunction setId(id) { /* ... */ } \n  \naddOnUISdk.ready.then(() => setId(await addOnUISdk.app.document.id()));\n  \naddOnUISdk.app.on("documentAvailable", data => {\n  setId(data.documentId);\n});\n')),(0,o.mdx)("h3",{id:"retrieving-the-document-title"},"Retrieving the document title"),(0,o.mdx)("p",null,"The example below listens for the ",(0,o.mdx)("inlineCode",{parentName:"p"},"documentTitleChange")," event and then sets the id."),(0,o.mdx)("h4",{id:"example-1"},"Example"),(0,o.mdx)(c,{slots:"heading, code",repeat:"1",languages:"JavaScript",mdxType:"CodeBlock"}),(0,o.mdx)("h4",{id:"usage-1"},"Usage"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},'import addOnUISdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\nfunction setTitle(title) { /* ... */ } \n  \naddOnUISdk.ready.then(() => setTitle(await addOnUISdk.app.document.title()));\n  \naddOnUISdk.app.on("documentTitleChange", data => {\n  setTitle(data.documentTitle);\n});\n')),(0,o.mdx)("h3",{id:"retrieving-page-metadata"},"Retrieving page metadata"),(0,o.mdx)("p",null,"If you want to retrieve metadata for pages in the document, use the ",(0,o.mdx)("a",{parentName:"p",href:"/express-add-ons-docs/references/addonsdk/app-document.md#getpagesmetadata"},(0,o.mdx)("inlineCode",{parentName:"a"},"getPagesMetadata()"))," method in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"addOnUISdk.app.document")," object, as shown in the example below."),(0,o.mdx)(c,{slots:"heading, code",repeat:"1",languages:"JavaScript",mdxType:"CodeBlock"}),(0,o.mdx)("h4",{id:"usage-2"},"Usage"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},'import addOnUISdk from "https://new.express.adobe.com/static/add-on-sdk/sdk.js";\n\n// Wait for the SDK to be ready\nawait addOnUISdk.ready;\n \n// Get metadata of all the pages\nasync function logMetadata() {\n  try {\n    const pages = (await addOnUISdk.app.document.getPagesMetadata({\n                            range: addOnUISdk.constants.Range.specificPages,\n                            pageIds: [\n                                "7477a5e7-02b2-4b8d-9bf9-f09ef6f8b9fc",\n                                "d45ba3fc-a3df-4a87-80a5-655e5f8f0f96"\n                            ]\n                        })) as PageMetadata[];\n    for (const page of pages) {\n      console.log("Page id: ", page.id);\n      console.log("Page title: ", page.title);\n      console.log("Page size: ", page.size);\n      console.log("Page has premium content: ", page.hasPremiumContent);\n      console.log("Page has timelines: ", page.hasTemporalContent);\n      console.log("Pixels per inch: ", page.pixelsPerInch);\n    }\n  }\n  catch(error) {\n    console.log("Failed to get metadata:", error);\n  }\n}\n')))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-develop-use-cases-content-authoring-md-67cfb9e2b826f857d306.js.map